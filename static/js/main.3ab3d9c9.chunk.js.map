{"version":3,"sources":["components/multi-select/multi-select.module.css","pages/home/home.tsx","components/search/search.utils.ts","components/search/search.config.ts","components/search/search.tsx","components/search/search.hooks.ts","components/search/search.container.tsx","components/multi-select/multi-select.tsx","data/dates.ts","data/data.ts","data/rfmos.js","data/flags.js","pages/search/search.tsx","pages/history-scroll/history-scroll.tsx","app.tsx","serviceWorker.ts","index.tsx","pages/search/search.module.css","pages/home/home.module.css","components/search/search.module.css","pages/history-scroll/history-scroll.module.css"],"names":["module","exports","container","selectionsContainer","selectionItem","selectionItemRemoveBtn","inputText","toggleBtn","listContainer","Home","react_default","a","createElement","react","className","styles","title","nav","es","to","breakingSpaceRegex","RegExp","replaceWithBreakingSpaces","arguments","length","undefined","replace","replaceWithNormalSpaces","removeSpecialCharacters","string","getInputFields","input","split","filter","i","groupSelectionsByType","selections","reduce","acc","selection","type","id","label","values","push","Object","objectSpread","defineProperty","parseSelectionToInput","lastCharacter","selectionsLength","item","index","concat","map","v","join","parseSelectionGroupedToInput","SEARCH_TYPES","flag","rfmo","vessel","after","before","port","searchTypesList","asyncFields","singleSelectionFields","Search","props","itemToString","setDownshiftRef","downshiftRefLoaded","initialInputValue","initialSelection","onChange","customEventHandler","stateReducer","items","onStateChange","itemsWithLoading","loading","toConsumableArray","downshift_esm","initialSelectedItem","defaultHighlightedIndex","downshift","getInputProps","getMenuProps","getItemProps","isOpen","inputValue","selectedItem","highlightedIndex","searchContainer","searchErrorsContainer","selectionStrings","Array","from","Set","s","incorrectInputStrings","some","inputWithErrors","forEach","incorrectInput","searchItemError","dangerouslySetInnerHTML","__html","getInputWithErrors","assign","searchInput","placeholder","onKeyDown","event","onClick","spellCheck","optionListContainer","index_esm","height","itemSize","itemCount","outerElementType","optionList","_ref","style","key","optionlistItemLoading","spinner","optionlistItem","backgroundColor","color","optionListText","countryflag","iso","optionlistItemPlaceholder","prefix","getPlaceholderByType","parseSearchFieldsInput","selectedItems","cursorPosition","selectedItemTypes","selectedItemLabels","existingSearchTypes","searchFields","includes","previousColonPosition","slice","indexOf","currentTypeStartIndex","currentType","filterOptionBySearchFields","memoizeOne","itemsNotSelected","cleanValue","matchSorter","keys","threshold","rankings","EQUAL","WORD_STARTS_WITH","filterItemsNotSelected","selectedItemIds","getItemsFiltered","SearchContainer","_useResultsFiltered","staticData","initialValue","initialState","search","results","cachedResults","_useReducer","useReducer","state","action","payload","uniqBy","_useReducer2","slicedToArray","dispatch","useEffect","searchFieldsTypes","f","needsRequest","r","searchQuery","asyncNeeded","controller","AbortController","searchUrl","fetch","signal","then","response","status","Promise","resolve","reject","Error","statusText","json","data","apiResults","entries","d","name","vesselId","catch","err","console","error","abort","useResultsFiltered","staticOptions","_useResultsFiltered2","debouncedDispatchChange","useMemo","debounce","handleStateChange","useCallback","changes","downshiftState","hasOwnProperty","_downshiftState$input","handleConfirmSelection","currentItems","isAlreadySelectedType","isSingleSelectionField","getSelectedItemsByInput","currentSelection","inputValuesParsed","_s$split","_s$split2","labels","l","parseInputToFields","find","p","handleExternalChanges","typesIncluded","handleChangeInput","selectedOptions","newInput","oldInput","Math","max","calculateCursorPosition","Downshift","stateChangeTypes","keyDownEnter","clickItem","changeInput","target","selectionStart","setState","hasValue","isSpace","isComma","hasOneOptions","nativeEvent","preventDownshiftDefault","downshiftRef","useRef","current","search_search","MultiSelect","React","createRef","handleChange","_this","onRemoveItem","onSelectedItem","this","options","_this2","_this$props","getToggleButtonProps","toggleMenu","focus","e","stopPropagation","ref","onKeyUp","viewBox","preserveAspectRatio","width","fill","stroke","strokeWidth","transform","getItems","Component","getDayLabel","date","getFullYear","getMonth","getDate","yearsWithData","days","flatMap","year","monthsAccumulate","month","daysInMonth","Date","UTC","daysOfMonth","daysAccumulate","day","toISOString","lastYearDate","lastDate","rfmos","flags","ports","toString","SearchPage","urlSelection","query","qs","parse","window","location","ignoreQueryPrefix","_useState","useState","_useState2","updateSelection","selectionQuery","stringify","addQueryPrefix","url","origin","pathname","history","replaceState","selectionsByType","handleSelectChange","handleRemoveItem","getSelectionByType","app","search_container","multi_select","selectionContainer","selectionList","charAt","toUpperCase","value","HistoryScroll","App","home","path","default","pages_search_search","history_scroll","Boolean","hostname","match","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","registration","unregister","loadingContainer","spin"],"mappings":"4EACAA,EAAAC,QAAA,CAAkBC,UAAA,gCAAAC,oBAAA,0CAAAC,cAAA,oCAAAC,uBAAA,6CAAAC,UAAA,gCAAAC,UAAA,gCAAAC,cAAA,0JCeHC,EAZ6B,WAC1C,OACEC,EAAAC,EAAAC,cAACC,EAAA,SAAD,KACEH,EAAAC,EAAAC,cAAA,MAAIE,UAAWC,IAAOC,OAAtB,iCACAN,EAAAC,EAAAC,cAAA,OAAKE,UAAWC,IAAOE,KACrBP,EAAAC,EAAAC,cAACM,EAAA,EAAD,CAAMC,GAAG,UAAT,UACAT,EAAAC,EAAAC,cAACM,EAAA,EAAD,CAAMC,GAAG,aAAT,4HCLFC,EAAqB,IAAIC,OADA,OAC+B,KACjDC,EAA4B,kBAAAC,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAkB,IAClDG,QAAQ,OAHc,SAIlBC,EAA0B,kBAAAJ,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAkB,IAChDG,QAAQN,EAAoB,MAExBQ,EAA0B,SAACC,GAEtC,OAAOA,EAAOH,QAAQ,wBAAwB,KAGnCI,EAAiB,SAACC,GAC7B,OAAKA,EACEA,EACJL,QAAQ,MAAO,KACfA,QAAQ,MAAO,KACfM,MAAM,KACNC,OAAO,SAACC,GAAD,OAAOA,IALE,IAsBRC,EAAwB,SAACC,GACpC,OAAmB,OAAfA,EAA4B,GACzBA,EAAWC,OAAO,SAACC,EAA2BC,GAAwB,IACnEC,EAAoBD,EAApBC,KAAMC,EAAcF,EAAdE,GAAIC,EAAUH,EAAVG,MAElB,OADqBJ,EAAIE,IAEvBF,EAAIE,GAAMG,OAAOC,KAAK,CAAEH,KAAIC,UACrBJ,GAEFO,OAAAC,EAAA,EAAAD,CAAA,GACFP,EADLO,OAAAE,EAAA,EAAAF,CAAA,GAEGL,EAAO,CAAEA,OAAMG,OAAQ,CAAC,CAAEF,KAAIC,cAEhC,KAGQM,EAAwB,SACnCT,GAEW,IADXU,EACW1B,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GADa,IAGxB,OAnC0C,SAC1Ca,GAEG,IADHa,EACG1B,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GADqB,IAElB2B,EAAmBL,OAAOF,OAAOP,GAAYZ,OAAS,EAC5D,OAAOqB,OAAOF,OAAOP,GAAYC,OAC/B,SAACC,EAAaa,EAAqBC,GAAnC,SAAAC,OACa,KAARf,EAAA,GAAAe,OAAgBf,EAAhB,KAAyB,IAD9Be,OACmCF,EAAKX,KADxC,KAAAa,OACgDF,EAAKR,OAChDW,IAAI,SAACC,GAAD,OAAkBjC,EAA0BiC,EAAEb,SAClDc,KAAK,MAHVH,OAGiBD,IAAUF,EAAmBD,EAAgB,KAC9D,IAyBKQ,CADmBtB,EAAsBI,GACOU,IC5D5CS,EAAe,CAC1BC,KAAM,OACNC,KAAM,OACNC,OAAQ,SACRC,MAAO,QACPC,OAAQ,SACRC,KAAM,QAGKC,EAAkB,CAC7BP,EAAaC,KACbD,EAAaE,KACbF,EAAaG,OACbH,EAAaI,MACbJ,EAAaK,QAEFG,EAAc,CAACR,EAAaG,QAC5BM,EAAwB,CAACT,EAAaI,MAAOJ,EAAaK,QCmMxDK,EAlIuB,SAACC,GAAU,IAE7CC,EAWED,EAXFC,aACAC,EAUEF,EAVFE,gBACAC,EASEH,EATFG,mBACAC,EAQEJ,EARFI,kBACAC,EAOEL,EAPFK,iBACAC,EAMEN,EANFM,SACAC,EAKEP,EALFO,mBACAC,EAIER,EAJFQ,aACAC,EAGET,EAHFS,MACAC,EAEEV,EAFFU,cAGIC,EADFX,EADFY,QAE8B,GAAA5B,OAAAR,OAAAqC,EAAA,EAAArC,CACxBiC,GADwB,CACjB,CAAEtC,KAAM,UAAWC,GAAI,UAAWC,MAAO,aACpDoC,EACJ,OACEpE,EAAAC,EAAAC,cAACuE,EAAA,EAAD,CACER,SAAUA,EACVF,kBAAmBA,EACnBW,oBAAqBV,EACrBG,aAAcA,EACdP,aAAcA,EACdS,cAAeA,EACfM,wBAAyB,GAExB,SAACC,IAC2B,IAAvBd,GACFD,EAAgBe,GAFJ,IAKZC,EAOED,EAPFC,cACAC,EAMEF,EANFE,aACAC,EAKEH,EALFG,aACAC,EAIEJ,EAJFI,OACAC,EAGEL,EAHFK,WACAC,EAEEN,EAFFM,aACAC,EACEP,EADFO,iBAEF,OACEnF,EAAAC,EAAAC,cAAA,OAAKE,UAAWC,IAAO+E,iBACrBpF,EAAAC,EAAAC,cAAA,YACI8E,GACAhF,EAAAC,EAAAC,cAAA,OAAKE,UAAWC,IAAOgF,uBA5FZ,SAAChE,EAAeQ,GACzC,IAAKR,EAAO,MAAO,GACnB,IAAMiE,EACU,OAAdzD,EACI0D,MAAMC,KACJ,IAAIC,IAAJ,GAAA9C,OAAAR,OAAAqC,EAAA,EAAArC,CACKN,EAAUe,IAAI,SAAC8C,GAAD,OAAO9E,EAA0B8E,EAAE1D,UADtDG,OAAAqC,EAAA,EAAArC,CAEKN,EAAUe,IAAI,SAAC8C,GAAD,OAAOA,EAAE5D,WAG9B,GAEA6D,EADevE,EAAeC,GACOE,OACzC,SAACC,GAAD,OAAQ8D,EAAiBM,KAAK,SAAC5D,GAAD,OAAWA,IAAUR,MAEjDqE,EAAkB3E,EAAwBG,GAS9C,OARIsE,EAAsB7E,QACxB6E,EAAsBG,QAAQ,SAACC,GAC7BF,EAAkBA,EAAgB7E,QAChC,IAAIL,OAAJ,MAAAgC,OAAiBzB,EAAwB6E,GAAzC,OAA+D,KAD/C,eAAApD,OAEDtC,IAAO2F,gBAFN,KAAArD,OAEyBoD,EAFzB,cAMf/F,EAAAC,EAAAC,cAAA,QAAM+F,wBAAyB,CAAEC,OAAQL,KAqE/BM,CAAmBlB,GAAc,GAAIC,IAG1ClF,EAAAC,EAAAC,cAAA,QAAAiC,OAAAiE,OAAA,CACEhG,UAAWC,IAAOgG,aACdxB,EAAc,CAChByB,YAAa,kBACbC,eACyBxF,IAAvBmD,EACI,SAACsC,GAAD,OAAWtC,EAAmBsC,EAAO5B,SACrC7D,EACN0F,aACyB1F,IAAvBmD,EACI,SAACsC,GAAD,OAAWtC,EAAmBsC,EAAO5B,SACrC7D,IAXV,CAaE2F,YAAY,MAGd1B,EACAhF,EAAAC,EAAAC,cAAA,OAAKE,UAAWC,IAAOsG,qBACpBrC,EAAiBxD,OAAS,EACzBd,EAAAC,EAAAC,cAAC0G,EAAA,EAADzE,OAAAiE,OAAA,CACES,OAAQ,IACRC,SAAU,GACVC,UAAWzC,EAAiBxD,OAC5BkG,iBAAiB,KACjB5G,UAAWC,IAAO4G,YACdnC,KAEH,SAAAoC,GAAsB,IAAnBxE,EAAmBwE,EAAnBxE,MAAOyE,EAAYD,EAAZC,MACH1E,EAAO6B,EAAiB5B,GAC9B,MAAkB,YAAdD,EAAKX,KAEL9B,EAAAC,EAAAC,cAAA,MACEkH,IAAK3E,EAAKV,GACV3B,UAAWC,IAAOgH,sBAClBF,MAAKhF,OAAAC,EAAA,EAAAD,CAAA,GAAOgF,IAEZnH,EAAAC,EAAAC,cAAA,QAAME,UAAWC,IAAOiH,WAK5BtH,EAAAC,EAAAC,cAAA,KAAAiC,OAAAiE,OAAA,CACEgB,IAAK3E,EAAKV,GACV3B,UAAWC,IAAOkH,gBACdxC,EAAa,CACftC,OACAC,UALJ,CAOEyE,MAAKhF,OAAAC,EAAA,EAAAD,CAAA,GACAgF,EADA,CAEHK,gBAAiBrC,IAAqBzC,EAAQ,OAAS,cACvD+E,MAAOvC,IAAiBzC,EAAO,UAAY,WAG7CzC,EAAAC,EAAAC,cAAA,OAAKE,UAAWC,IAAOqH,gBACpBjF,EAAKX,KADR,IACe,IACZW,EAAKX,OAASkB,EAAaC,MAAQjD,EAAAC,EAAAC,cAACyH,EAAA,EAAD,CAAaC,IAAKnF,EAAKV,KAAQ,IAClE6B,EAAanB,IAEf0C,IAAqBzC,GACpB1C,EAAAC,EAAAC,cAAA,QAAME,UAAWC,IAAOwH,2BA9KvB,SAAC/F,GAC5B,IAAMgG,EAAS,kBACf,OAAQhG,GACN,KAAKkB,EAAaC,KAChB,SAAAN,OAAUmF,EAAV,sDACF,KAAK9E,EAAaE,KAChB,SAAAP,OAAUmF,EAAV,qDACF,KAAK9E,EAAaI,MAChB,SAAAT,OAAUmF,EAAV,mDACF,KAAK9E,EAAaK,OAChB,SAAAV,OAAUmF,EAAV,oDACF,KAAK9E,EAAaG,OAChB,SAAAR,OAAUmF,EAAV,uCACF,QACE,SAAAnF,OAAUmF,EAAV,YAiKyBC,CAAqBtF,EAAKX,UAQvC9B,EAAAC,EAAAC,cAAA,QAAME,UAAWC,IAAOkH,gBAAxB,6CArDK,yCCzIjBS,EAAyB,SAC7B3G,EACA4G,EACAC,GAuBA,IArBA,IAAMC,EAAqBF,GAAiBA,EAAcrF,IAAI,SAACpB,GAAD,OAAOA,EAAEM,QAAU,GAC3EsG,EAAsBH,GAAiBA,EAAcrF,IAAI,SAACpB,GAAD,OAAOA,EAAEQ,SAAW,GAC7EqG,EAAmD,GAEnDC,EAAelH,EAAeC,GAEjCuB,IAAI3B,GACJM,OAAO,SAACsB,GACP,OAAIsF,EAAkBI,SAAS1F,KAExBwF,EAAoBxF,KACvBwF,EAAoBxF,IAAK,GAClB,IAKHuF,EAAmBG,SAAS1F,KAGpC2F,EAAwB,EACnBhH,EAAI0G,EAAgB1G,EAAI,EAAGA,IAClC,GAAiB,MAAbH,EAAMG,GAAY,CACpBgH,EAAwBhH,EACxB,MAMJ,IAF2E,IAAzEH,EAAMoH,MAAMD,EAAuBN,EAAiB,GAAGQ,QAAQ,KAE1C,CAErB,IADA,IAAIC,EAAwB,EACnBnH,EAAIgH,EAAuBhH,EAAI,EAAGA,IACzC,GAAiB,MAAbH,EAAMG,GAAY,CACpBmH,EAAwBnH,EAAI,EAC5B,MAGJ,IAAMoH,EAAcvH,EAAMoH,MAAME,EAAuBH,GACnDI,GACFN,EAAapG,KAAK0G,GAGtB,OAAOrD,MAAMC,KAAK,IAAIC,IAAI6C,KAGtBO,EAA6BC,YACjC,SAACR,EAAwBS,GAAzB,OACET,EAAa3G,OAAO,SAACC,EAAKoH,GACxB,OAAOC,YAAYrH,EAAKoH,EAAY,CAClCE,KAAM,CACJ,CAAE9B,IAAK,OAAQ+B,UAAWC,IAASC,OACnC,CAAEjC,IAAK,QAAS+B,UAAWC,IAASE,sBAGvCP,KAGDQ,EAAyBT,YAAW,SAAC1E,EAAmBoF,GAC5D,OAAOA,EAAgB1I,OAAS,EAAIsD,EAAM7C,OAAO,SAACC,GAAD,OAAQgI,EAAgBjB,SAAS/G,EAAEO,MAAOqC,IAGvFqF,EAAmB,SACvBrF,EACA/C,EACA4G,EACAC,GAEA,IAAK7G,EAAO,OAAO+C,EACnB,IAAIoF,EAAmBvB,GAAiBA,EAAcrF,IAAI,SAACpB,GAAD,OAAOA,EAAEO,MAAQ,GAErEuG,EAAeN,EAAuB3G,EAAO4G,EAAeC,GAC5Da,EAAmBQ,EAAuBnF,EAAOoF,GAEvD,OADgBX,EAA2BP,EAAcS,qBCgJ5CW,EAtNyC,SAAC/F,GAAU,IACzDsE,EAA2CtE,EAA3CsE,cAAehE,EAA4BN,EAA5BM,SAD0C0F,EDyFjC,SAACC,EAAwBC,GACzD,IAAMC,EAA6B,CACjCvF,SAAS,EACTqF,aACA1E,aAAc,GACdgD,eAAgB,EAChB6B,OAAQF,GAAgB,GACxBG,QAASJ,EACTK,cAAeL,GARuEM,EAwC9DC,qBA9BH,SAACC,EAAqBC,GAC3C,OAAQA,EAAOvI,MACb,IAAK,cACH,OAAOK,OAAAC,EAAA,EAAAD,CAAA,GACFiI,EADL,CAEEL,OAAQM,EAAOC,QAAQP,OACvB7E,aAAcmF,EAAOC,QAAQpF,eAEjC,IAAK,oBACH,OAAO/C,OAAAC,EAAA,EAAAD,CAAA,GAAKiI,EAAZ,CAAmBlC,eAAgBmC,EAAOC,UAC5C,IAAK,cAAe,IACVV,EAAqDQ,EAArDR,WAAYG,EAAyCK,EAAzCL,OAAQ7E,EAAiCkF,EAAjClF,aAAcgD,EAAmBkC,EAAnBlC,eAC1C,OAAO/F,OAAAC,EAAA,EAAAD,CAAA,GACFiI,EADL,CAEEJ,QAASP,EAAiBG,EAAYG,EAAQ7E,EAAcgD,GAC5D3D,QAAS8F,EAAOC,UAGpB,IAAK,YACH,OAAOnI,OAAAC,EAAA,EAAAD,CAAA,GACFiI,EADL,CAEEJ,QAAO,GAAArH,OAAAR,OAAAqC,EAAA,EAAArC,CAAMiI,EAAMJ,SAAZ7H,OAAAqC,EAAA,EAAArC,CAAwBkI,EAAOC,UACtCL,cAAeM,IAAM,GAAA5H,OAAAR,OAAAqC,EAAA,EAAArC,CAAKiI,EAAMH,eAAX9H,OAAAqC,EAAA,EAAArC,CAA6BkI,EAAOC,UAAU,MACnE/F,SAAS,IAGb,QACE,OAAO6F,IAGwCN,GAxCmCU,EAAArI,OAAAsI,EAAA,EAAAtI,CAAA+H,EAAA,GAwCjFE,EAxCiFI,EAAA,GAwC1EE,EAxC0EF,EAAA,GAyChFT,EAAyCK,EAAzCL,OAAQ7E,EAAiCkF,EAAjClF,aAAcgD,EAAmBkC,EAAnBlC,eA2C9B,OAzCAyC,oBAAU,WACR,IAAMrC,EAAeN,EAAuB+B,EAAQ7E,EAAcgD,GAC5D0C,EAAoBtC,EAAa/G,OAAO,SAACsJ,GAAD,OAAOtH,EAAgBgF,SAASsC,KACxEC,EACyB,IAA7BF,EAAkB9J,QAAgB8J,EAAkBhF,KAAK,SAACmF,GAAD,OAAOvH,EAAY+E,SAASwC,KACjFvB,EAAkBtE,EAAatC,IAAI,SAACpB,GAAD,OAAiBA,EAAEO,KACtDqG,EAAqBlD,EAAatC,IAAI,SAACpB,GAAD,OAAiBA,EAAEQ,QACzDgJ,EAAc1C,EACjB/G,OAAO,SAACsJ,GAAD,OAAQzC,EAAmBG,SAASsC,KAAOtH,EAAgBgF,SAASsC,KAC3E/H,KAAK,KACFmI,EAAcH,GAAgC,KAAhBE,EAEpC,GADAN,EAAS,CAAE5I,KAAM,cAAewI,QAASW,IACrCA,EAAa,CAEf,IAAMC,EAAa,IAAIC,gBACjBC,EAAS,sFAAAzI,OAAyFqI,EAAzF,aAsBf,OApBAK,MAAMD,EAAW,CAAEE,OAAQJ,EAAWI,SACnCC,KAAK,SAACC,GAAD,OACJA,EAASC,QAAU,KAAOD,EAASC,OAAS,IACxCC,QAAQC,QAAQH,GAChBE,QAAQE,OAAO,IAAIC,MAAML,EAASM,eAEvCP,KAAK,SAACC,GAAD,OAAcA,EAASO,SAC5BR,KAAK,SAACS,GACL,IAAMC,EAAaD,EAAKE,QACrB3K,OAAO,SAAC4K,GAAD,OAAOA,EAAEC,OAChBxJ,IAAI,SAACuJ,GAAD,MAAQ,CAAEpK,GAAIoK,EAAEE,SAAUrK,MAAOmK,EAAEC,KAAMtK,KAAM,YACnDP,OAAO,SAAC4K,GAAD,OAAQ3C,EAAgBjB,SAAS4D,EAAEpK,MAC7C2I,EAAS,CAAE5I,KAAM,YAAawI,QAAS2B,MAExCK,MAAM,SAACC,GACW,eAAbA,EAAIH,MACNI,QAAQC,MAAM,QAASF,GAEzB7B,EAAS,CAAE5I,KAAM,YAAawI,QAAS,OAEpC,kBAAMY,EAAWwB,WAEzB,CAAC3C,EAAQ7B,EAAgBhD,IAErB,CAACkF,EAAOM,GC3KWiC,CADyBhJ,EAAlBiJ,cAC2B,IAFKC,EAAA1K,OAAAsI,EAAA,EAAAtI,CAAAwH,EAAA,GAE1DS,EAF0DyC,EAAA,GAEnDnC,EAFmDmC,EAAA,GAGzD7C,EAAoCI,EAApCJ,QAASzF,EAA2B6F,EAA3B7F,QAAS0F,EAAkBG,EAAlBH,cAEpB6C,EAA0BC,kBAC9B,kBACEC,IAAS,SAAC1C,GACRI,EAAS,CAAE5I,KAAM,cAAewI,aAC/B,MACL,CAACI,IAGGuC,EAAoBC,sBACxB,SAACC,EAAyCC,GACxC,GAAID,EAAQE,eAAe,cAAe,KAAAC,EACEF,EAAlCnI,kBADgC,IAAAqI,EACnB,GADmBA,EACfpI,EAAiBkI,EAAjBlI,aAEzB4H,EAAwB,CAAE/C,OADD9E,GAAc,GACaC,mBAGxD,CAAC4H,IAGGS,EAAyB,SAC7BnD,EACA+C,GAE4B,IAD5B5K,EAC4B1B,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GADJ,IAElB2M,EAAepD,EAAMlF,cAAgB,GACrCuI,EAAwBD,EAAa5H,KACzC,SAACnD,GAAD,OAAoBA,EAAKX,OAASqL,EAAQjI,aAAapD,OAEnD4L,EAAyBjK,EAAsB8E,SAAS4E,EAAQjI,aAAapD,MAC/EoD,EAAY/C,OAAAqC,EAAA,EAAArC,CAAOqL,GAElBE,IAA2BD,IAA2BC,EACzDxI,EAAahD,KAAKiL,EAAQjI,cAE1BA,EAAeA,EAAatC,IAAI,SAAC8C,GAC/B,OAAOA,EAAE5D,OAASqL,EAAQjI,aAAapD,KAAOqL,EAAQjI,aAAeQ,IAKzE,IAAMT,EAAa3C,EAAsB4C,EAAc3C,GACvD,OAAOJ,OAAAC,EAAA,EAAAD,CAAA,GAAKgL,EAAZ,CAAqBjI,eAAcD,gBAG/B0I,EAA0B,SAACtM,EAAeuM,GAC9C,IAAMC,EAAoBxM,EJJI,SAACA,GACjC,OAAOA,EACJC,MAAM,KACNC,OAAO,SAACmE,GAAD,OAAOA,IACd9C,IAAI,SAAC8C,GAAM,IAAAoI,EACapI,EAAEpE,MAAM,KADrByM,EAAA5L,OAAAsI,EAAA,EAAAtI,CAAA2L,EAAA,GACHhM,EADGiM,EAAA,GACGC,EADHD,EAAA,GAEV,MAAO,CACLjM,OACAkM,OAAQA,EACJA,EACG1M,MAAM,KACNsB,IAAI3B,GACJM,OAAO,SAAC0M,GAAD,OAAOA,IACjB,MIT0BC,CAAmB7M,GAAS,KAC9D,OAA6B,OAAtBwM,EACHD,EAAiBrM,OACf,SAACC,GAAD,YAGQT,IAFN8M,EAAkBM,KAChB,SAACC,GAAD,OAAOA,EAAEtM,OAASN,EAAEM,WAAqBf,IAAbqN,EAAEJ,QAAwBI,EAAEJ,OAAOzF,SAAS/G,EAAEQ,WAGhF,IAGAqM,EAAwBnB,sBAC5B,SACE9C,EACA+C,GAEA,IAAMmB,EAA+C,GACrD,IAAKnB,EAAQjI,eAAiBkF,EAAMlF,aAAc,OAAOiI,EAEzD,GAAI/C,EAAMlF,aAAapE,SAAWqM,EAAQjI,aAAapE,OACrD,OAAOqM,EAET,IACMjI,EADmBqF,IAAO4C,EAAQjI,aAAc,MAChB3D,OAAO,SAACkB,GAC5C,QAAKA,SAC4B1B,IAA7BuN,EAAc7L,EAAKX,OACb2B,EAAsB8E,SAAS9F,EAAKX,OAE9CwM,EAAc7L,EAAKX,OAAQ,GACpB,MAEHmD,EAAa3C,EAAsB4C,GACzC,OAAO/C,OAAAC,EAAA,EAAAD,CAAA,GAAKgL,EAAZ,CAAqBlI,aAAYC,kBAEnC,IAEIqJ,EAAoBrB,sBACxB,SACE9C,EACA+C,GAEA,IAAMlI,EAAakI,EAAQlI,YAAc,GACnCgD,EAAgBmC,EAAMlF,cAAgB,GACtCsJ,EAAkBjE,IAAM,GAAA5H,OAAAR,OAAAqC,EAAA,EAAArC,CAAK8F,GAAL9F,OAAAqC,EAAA,EAAArC,CAAuB8H,IAAgB,MAC/D/E,EAAeyI,EAAwB1I,EAAYuJ,GACnDtG,EJ/B2B,SAACuG,EAAkBC,GACxD,IAAKD,IAAaC,EAAU,OAAO,EAEnC,IADA,IAAM5N,EAAS6N,KAAKC,IAAIF,EAAS5N,OAAQ2N,EAAS3N,QACzCU,EAAI,EAAGA,EAAIV,EAAQU,IAAK,CAC/B,QAAoBT,IAAhB0N,EAASjN,GAEX,OAAOA,EAAI,EACN,GAAIiN,EAASjN,KAAOkN,EAASlN,GAClC,OAAOA,EAGX,OAAO,EIoBoBqN,CACrB1B,EAAQlI,YAAc,GACtBmF,EAAMnF,YAAc,IAItB,OAFAyF,EAAS,CAAE5I,KAAM,oBAAqBwI,QAASpC,IAExC/F,OAAAC,EAAA,EAAAD,CAAA,GACFgL,EADL,CAEEjI,eACAF,OAAuB,KAAfC,GAAoD,MAA/BA,EAAWiD,MAG5C,CAAC+B,EAAeS,IAGZvG,EAAe+I,sBACnB,SACE9C,EACA+C,GAEA,OAAQA,EAAQrL,MACd,KAAKgN,IAAUC,iBAAiBC,aAChC,KAAKF,IAAUC,iBAAiBE,UAC9B,OAAO1B,EAAuBnD,EAAO+C,GAEvC,IAAK,cACH,OAAOI,EAAuBnD,EAAO+C,EAAS,IAEhD,IAAK,kBACH,OAAOkB,EAAsBjE,EAAO+C,GAEtC,KAAK2B,IAAUC,iBAAiBG,YAC9B,OAAOX,EAAkBnE,EAAO+C,GAElC,QAEE,OAAOhL,OAAAC,EAAA,EAAAD,CAAA,GACFgL,EADL,CAEElI,WAAYkI,EAAQlI,YAAcmF,EAAMnF,YAAc,GACtDC,aAAciI,EAAQjI,cAAgBkF,EAAMlF,cAAgB,OAIpE,CAACqJ,EAAmBF,IAGhBnK,EAAqBgJ,sBACzB,SAAC1G,EAAY5B,GACX,GAAkB,cAAd4B,EAAMY,KAAqC,eAAdZ,EAAMY,KAAuC,UAAfZ,EAAM1E,KAAkB,CACrF,IAAMoG,EAAiB1B,EAAM2I,OAAOC,eACpC1E,EAAS,CAAE5I,KAAM,oBAAqBwI,QAASpC,IAHnB,IAKtB/C,EAA2CP,EAA3CO,iBAAkBF,EAAyBL,EAAzBK,WAAYoK,EAAazK,EAAbyK,SAChCC,EAA0B,KAAfrK,GAAoC,MAAfA,EAChCsK,EAAwB,MAAd/I,EAAMY,IAChBoI,EAAwB,MAAdhJ,EAAMY,IAChBqI,EAAmC,IAAnBzF,EAAQlJ,OAC9B,GAAIwO,IAAcC,GAAWC,IAAYC,IACvCjJ,EAAMkJ,YAAYC,yBAA0B,EACnB,OAArBxK,GAA6BA,GAAoB,GAAG,CACtD,IAAMD,EAAe8E,EAAQ7E,GACzBD,GACFmK,EAAS,CACPvN,KAAM,cACNoD,eACAD,iBAMV,CAACyF,EAAUV,IAGPpG,EAAesJ,sBAAY,SAAC1L,GAChC,OAAOA,EAAIA,EAAEQ,MAAQ,IACpB,IAEG+B,EAAoBgJ,kBAAQ,WAChC,OAAyB,OAAlB9E,EAAyB3F,EAAsB2F,GAAiB,IACtE,CAACA,IAEEjE,EAAmB+I,kBAAQ,WAC/B,OAAO9E,GAAiB,IACvB,CAACA,IAEE2H,EAAeC,iBAAmB,MAClChM,EAAkBqJ,sBAAY,SAACtI,GACnCgL,EAAaE,QAAUlL,GACtB,IAYH,OAVA+F,oBAAU,WACqB,OAAzBiF,EAAaE,UAEfT,EADqBO,EAAaE,QAA1BT,UACC,CACPvN,KAAM,kBACNoD,aAAc+C,KAGjB,CAACA,IAGFjI,EAAAC,EAAAC,cAAC6P,EAAD,CACE3L,MAAO4F,EACPzF,QAASA,EACTN,SAAUA,EACVJ,gBAAiBA,EACjBC,mBAA6C,OAAzB8L,EAAaE,QACjClM,aAAcA,EACdO,aAAcA,EACd8D,cAAeA,EACfjE,iBAAkBA,EAClBD,kBAAmBA,EACnBG,mBAAoBA,EACpBG,cAAe4I,8DCrEN+C,8MA/Ib3O,MAAQ4O,IAAMC,cACdtM,aAAe,SAACnB,GAAD,OAAqBA,EAAOA,EAAKT,MAAQ,MA4BxDmO,aAAe,SAACjL,GACVkL,EAAKzM,MAAMsE,cAAcM,SAASrD,GACpCkL,EAAKzM,MAAM0M,aAAanL,GAExBkL,EAAKzM,MAAM2M,eAAepL,4EA9BrB3D,GACP,OAAOA,EACH0H,YAAYsH,KAAK5M,MAAM6M,QAASjP,EAAQ,CACtC2H,KAAM,CAAC,WAETqH,KAAK5M,MAAM6M,6CAIfpG,EACA+C,GAEA,OAAQA,EAAQrL,MACd,KAAKgN,IAAUC,iBAAiBC,aAChC,KAAKF,IAAUC,iBAAiBE,UAC9B,OAAO9M,OAAAC,EAAA,EAAAD,CAAA,GACFgL,EADL,CAEEhI,iBAAkBiF,EAAMjF,iBACxBH,QAAQ,EACRC,WAAY,KAEhB,QACE,OAAOkI,oCAYJ,IAAAsD,EAAAF,KAAAG,EACiCH,KAAK5M,MAArCsE,EADDyI,EACCzI,cAAeoI,EADhBK,EACgBL,aACvB,OACErQ,EAAAC,EAAAC,cAACuE,EAAA,EAAD,CACEN,aAAcoM,KAAKpM,aACnBe,aAAc,KACdjB,SAAUsM,KAAKJ,aACfvM,aAAc2M,KAAK3M,cAElB,SAACgB,GAAmB,IAEjBC,EAQED,EARFC,cACA8L,EAOE/L,EAPF+L,qBACA7L,EAMEF,EANFE,aACAE,EAKEJ,EALFI,OACAC,EAIEL,EAJFK,WACAF,EAGEH,EAHFG,aACAI,EAEEP,EAFFO,iBACAyL,EACEhM,EADFgM,WAEF,OACE5Q,EAAAC,EAAAC,cAAA,OAAKE,UAAWC,IAAOb,WACrBQ,EAAAC,EAAAC,cAAA,OACEuG,QAAS,WACPmK,KACC5L,GAAiC,OAAvByL,EAAKpP,MAAMyO,SAAoBW,EAAKpP,MAAMyO,QAAQe,UAG/D7Q,EAAAC,EAAAC,cAAA,OAAKE,UAAWC,IAAOqB,YACpBuG,EAAcnH,OAAS,EACpBmH,EAAcrF,IAAI,SAACH,GAAD,OAChBzC,EAAAC,EAAAC,cAAA,OAAKkH,IAAK3E,EAAKV,GAAI3B,UAAWC,IAAOX,eACnCM,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAA,YAAOuC,EAAKT,OACZhC,EAAAC,EAAAC,cAAA,UACEuG,QAAS,SAACqK,GACRA,EAAEC,kBACFV,EAAa5N,IAEfrC,UAAWC,IAAOV,wBALpB,oBAYN,iBACJK,EAAAC,EAAAC,cAAA,QAAAiC,OAAAiE,OAAA,GACMvB,EAAc,CAChBmM,IAAKP,EAAKpP,MACV4P,QAFgB,SAERzK,GACY,cAAdA,EAAMY,KAAwBnC,GAChCoL,EAAapI,EAAcA,EAAcnH,OAAS,OAL1D,CASEV,UAAWC,IAAOT,cAGtBI,EAAAC,EAAAC,cAAA,SAAAiC,OAAAiE,OAAA,GACMuK,EAAqB,CAGvBlK,QAHuB,SAGfD,GACNA,EAAMuK,qBALZ,CAQE3Q,UAAWC,IAAOR,YAElBG,EAAAC,EAAAC,cAAA,OACEgR,QAAQ,YACRC,oBAAoB,OACpBC,MAAO,GACPC,KAAK,cACLC,OAAO,UACPC,YAAY,QACZC,UAAWxM,EAAS,mBAAgBjE,GAEpCf,EAAAC,EAAAC,cAAA,QAAMiM,EAAE,yBAIdnM,EAAAC,EAAAC,cAAA,KAAAiC,OAAAiE,OAAA,GAAQtB,IAAR,CAAwB1E,UAAWC,IAAOP,gBACvCkF,EACGyL,EAAKgB,SAASxM,GAAYrC,IAAI,SAACH,EAAMC,GAAP,OAC5B1C,EAAAC,EAAAC,cAAA,KAAAiC,OAAAiE,OAAA,CACEgB,IAAK3E,EAAKV,IACNgD,EAAa,CAAEtC,OAAMC,UAF3B,CAGEyE,MAAO,CACLK,gBAAiBrC,IAAqBzC,EAAQ,OAAS,cACvD+E,MAAOQ,EAAcM,SAAS9F,GAAQ,UAAY,UAGnDA,EAAKT,SAGV,gBAtIMiO,IAAMyB,WCX1BC,GAAc,SAACC,GACnB,OAAKA,EACL,GAAAjP,OAAUiP,EAAKC,cAAf,KAAAlP,OAAgCiP,EAAKE,WAAa,EAAlD,KAAAnP,OAAuDiP,EAAKG,WAD1C,IAIdC,GAA0B,CAAC,MAepBC,GAAeD,GAAcE,QAAQ,SAACC,GACjD,OAAO5M,MAAMC,KAAKD,MAAM,IAAI2D,QAAQvH,OAAO,SAACyQ,EAA0BC,GAEpE,IAAMC,EAAc,IAAIC,KAAKA,KAAKC,IAAIL,EAAME,EAAQ,EAAG,IAAIN,UACrDU,EAAclN,MAAMC,KAAKD,MAAM+M,GAAapJ,QAAQvH,OACxD,SAAC+Q,EAAwBC,GACvB,IAAMf,EAAO,IAAIW,KAAKA,KAAKC,IAAIL,EAAME,EAAOM,EAAM,IAKlD,OAJAD,EAAexQ,KAAK,CAClBH,GAAI6P,EAAKgB,cACT5Q,MAAO2P,GAAYC,KAEdc,GAET,IAEF,SAAA/P,OAAAR,OAAAqC,EAAA,EAAArC,CAAWiQ,GAAXjQ,OAAAqC,EAAA,EAAArC,CAAgCsQ,KAC/B,MAGCI,GAAqB,IAAIN,KAAKA,KAAKC,IAAIR,GAAcA,GAAclR,OAAS,GAAK,EAAG,IAC7EgS,GAAiB,CAC5B/Q,GAAI8Q,GAAaD,cACjB5Q,MAAO2P,GAAYkB,KCtCfE,GCNS,CACb,CACEhR,GAAI,QACJC,MAAO,SAET,CACED,GAAI,OACJC,MAAO,QAET,CACED,GAAI,QACJC,MAAO,SAET,CACED,GAAI,QACJC,MAAO,SAET,CACED,GAAI,QACJC,MAAO,SAET,CACED,GAAI,QACJC,MAAO,UDjByBY,IAAI,SAACM,GAAD,OAAAf,OAAAC,EAAA,EAAAD,CAAA,GAAgBe,EAAhB,CAAsBpB,KAAMkB,EAAaE,SAC3E8P,GEPS,CACb,CACEjR,GAAI,MACJC,MAAO,SAET,CACED,GAAI,MACJC,MAAO,eAET,CACED,GAAI,MACJC,MAAO,UAET,CACED,GAAI,MACJC,MAAO,YAET,CACED,GAAI,MACJC,MAAO,oBAET,CACED,GAAI,MACJC,MAAO,WAET,CACED,GAAI,MACJC,MAAO,WAET,CACED,GAAI,MACJC,MAAO,wBAET,CACED,GAAI,MACJC,MAAO,aAET,CACED,GAAI,MACJC,MAAO,WAET,CACED,GAAI,MACJC,MAAO,kBAET,CACED,GAAI,MACJC,MAAO,cAET,CACED,GAAI,MACJC,MAAO,uCAET,CACED,GAAI,MACJC,MAAO,uBAET,CACED,GAAI,MACJC,MAAO,aAET,CACED,GAAI,MACJC,MAAO,WAET,CACED,GAAI,MACJC,MAAO,cAET,CACED,GAAI,MACJC,MAAO,WAET,CACED,GAAI,MACJC,MAAO,WAET,CACED,GAAI,MACJC,MAAO,SAET,CACED,GAAI,MACJC,MAAO,gBAET,CACED,GAAI,MACJC,MAAO,cAET,CACED,GAAI,MACJC,MAAO,YAET,CACED,GAAI,MACJC,MAAO,WAET,CACED,GAAI,MACJC,MAAO,WAET,CACED,GAAI,MACJC,MAAO,0BAET,CACED,GAAI,MACJC,MAAO,uBAET,CACED,GAAI,MACJC,MAAO,+CAET,CACED,GAAI,MACJC,MAAO,WAET,CACED,GAAI,MACJC,MAAO,UAET,CACED,GAAI,MACJC,MAAO,WAET,CACED,GAAI,MACJC,MAAO,WAET,CACED,GAAI,MACJC,MAAO,yBAET,CACED,GAAI,MACJC,MAAO,UAET,CACED,GAAI,MACJC,MAAO,YAET,CACED,GAAI,MACJC,MAAO,UAET,CACED,GAAI,MACJC,MAAO,UAET,CACED,GAAI,MACJC,MAAO,iBAET,CACED,GAAI,MACJC,MAAO,YAET,CACED,GAAI,MACJC,MAAO,4BAET,CACED,GAAI,MACJC,MAAO,UAET,CACED,GAAI,MACJC,MAAO,2BAET,CACED,GAAI,MACJC,MAAO,eAET,CACED,GAAI,MACJC,MAAO,SAET,CACED,GAAI,MACJC,MAAO,SAET,CACED,GAAI,MACJC,MAAO,eAET,CACED,GAAI,MACJC,MAAO,YAET,CACED,GAAI,MACJC,MAAO,YAET,CACED,GAAI,MACJC,MAAO,yBAET,CACED,GAAI,MACJC,MAAO,gBAET,CACED,GAAI,MACJC,MAAO,YAET,CACED,GAAI,MACJC,MAAO,WAET,CACED,GAAI,MACJC,MAAO,cAET,CACED,GAAI,MACJC,MAAO,cAET,CACED,GAAI,MACJC,MAAO,QAET,CACED,GAAI,MACJC,MAAO,cAET,CACED,GAAI,MACJC,MAAO,oBAET,CACED,GAAI,MACJC,MAAO,kBAET,CACED,GAAI,MACJC,MAAO,UAET,CACED,GAAI,MACJC,MAAO,WAET,CACED,GAAI,MACJC,MAAO,WAET,CACED,GAAI,MACJC,MAAO,YAET,CACED,GAAI,MACJC,MAAO,YAET,CACED,GAAI,MACJC,MAAO,WAET,CACED,GAAI,MACJC,MAAO,sBAET,CACED,GAAI,MACJC,MAAO,WAET,CACED,GAAI,MACJC,MAAO,WAET,CACED,GAAI,MACJC,MAAO,SAET,CACED,GAAI,MACJC,MAAO,WAET,CACED,GAAI,MACJC,MAAO,kBAET,CACED,GAAI,MACJC,MAAO,SAET,CACED,GAAI,MACJC,MAAO,WAET,CACED,GAAI,MACJC,MAAO,YAET,CACED,GAAI,MACJC,MAAO,WAET,CACED,GAAI,MACJC,MAAO,QAET,CACED,GAAI,MACJC,MAAO,oBAET,CACED,GAAI,MACJC,MAAO,UAET,CACED,GAAI,MACJC,MAAO,iBAET,CACED,GAAI,MACJC,MAAO,cAET,CACED,GAAI,MACJC,MAAO,SAET,CACED,GAAI,MACJC,MAAO,kBAET,CACED,GAAI,MACJC,MAAO,WAET,CACED,GAAI,MACJC,MAAO,YAET,CACED,GAAI,MACJC,MAAO,SAET,CACED,GAAI,MACJC,MAAO,aAET,CACED,GAAI,MACJC,MAAO,UAET,CACED,GAAI,MACJC,MAAO,cAET,CACED,GAAI,MACJC,MAAO,UAET,CACED,GAAI,MACJC,MAAO,iBAET,CACED,GAAI,MACJC,MAAO,qBAET,CACED,GAAI,MACJC,MAAO,UAET,CACED,GAAI,MACJC,MAAO,WAET,CACED,GAAI,MACJC,MAAO,aAET,CACED,GAAI,MACJC,MAAO,aAET,CACED,GAAI,MACJC,MAAO,iBAET,CACED,GAAI,MACJC,MAAO,QAET,CACED,GAAI,MACJC,MAAO,UAET,CACED,GAAI,MACJC,MAAO,aAET,CACED,GAAI,MACJC,MAAO,qCAET,CACED,GAAI,MACJC,MAAO,YAET,CACED,GAAI,MACJC,MAAO,WAET,CACED,GAAI,MACJC,MAAO,SAET,CACED,GAAI,MACJC,MAAO,WAET,CACED,GAAI,MACJC,MAAO,aAET,CACED,GAAI,MACJC,MAAO,eAET,CACED,GAAI,MACJC,MAAO,SAET,CACED,GAAI,MACJC,MAAO,kCAET,CACED,GAAI,MACJC,MAAO,WAET,CACED,GAAI,MACJC,MAAO,QAET,CACED,GAAI,MACJC,MAAO,QAET,CACED,GAAI,MACJC,MAAO,WAET,CACED,GAAI,MACJC,MAAO,UAET,CACED,GAAI,MACJC,MAAO,SAET,CACED,GAAI,MACJC,MAAO,WAET,CACED,GAAI,MACJC,MAAO,UAET,CACED,GAAI,MACJC,MAAO,UAET,CACED,GAAI,MACJC,MAAO,SAET,CACED,GAAI,MACJC,MAAO,cAET,CACED,GAAI,MACJC,MAAO,SAET,CACED,GAAI,MACJC,MAAO,cAET,CACED,GAAI,MACJC,MAAO,YAET,CACED,GAAI,MACJC,MAAO,YAET,CACED,GAAI,MACJC,MAAO,yBAET,CACED,GAAI,MACJC,MAAO,eAET,CACED,GAAI,MACJC,MAAO,UAET,CACED,GAAI,MACJC,MAAO,UAET,CACED,GAAI,MACJC,MAAO,QAET,CACED,GAAI,MACJC,MAAO,WAET,CACED,GAAI,MACJC,MAAO,WAET,CACED,GAAI,MACJC,MAAO,SAET,CACED,GAAI,MACJC,MAAO,eAET,CACED,GAAI,MACJC,MAAO,iBAET,CACED,GAAI,MACJC,MAAO,aAET,CACED,GAAI,MACJC,MAAO,WAET,CACED,GAAI,MACJC,MAAO,aAET,CACED,GAAI,MACJC,MAAO,cAET,CACED,GAAI,MACJC,MAAO,UAET,CACED,GAAI,MACJC,MAAO,SAET,CACED,GAAI,MACJC,MAAO,gBAET,CACED,GAAI,MACJC,MAAO,WAET,CACED,GAAI,MACJC,MAAO,UAET,CACED,GAAI,MACJC,MAAO,WAET,CACED,GAAI,MACJC,MAAO,cAET,CACED,GAAI,MACJC,MAAO,YAET,CACED,GAAI,MACJC,MAAO,UAET,CACED,GAAI,MACJC,MAAO,oBAET,CACED,GAAI,MACJC,MAAO,aAET,CACED,GAAI,MACJC,MAAO,QAET,CACED,GAAI,MACJC,MAAO,SAET,CACED,GAAI,MACJC,MAAO,WAET,CACED,GAAI,MACJC,MAAO,cAET,CACED,GAAI,MACJC,MAAO,YAET,CACED,GAAI,MACJC,MAAO,4BAET,CACED,GAAI,MACJC,MAAO,cAET,CACED,GAAI,MACJC,MAAO,cAET,CACED,GAAI,MACJC,MAAO,cAET,CACED,GAAI,MACJC,MAAO,cAET,CACED,GAAI,MACJC,MAAO,aAET,CACED,GAAI,MACJC,MAAO,UAET,CACED,GAAI,MACJC,MAAO,YAET,CACED,GAAI,MACJC,MAAO,WAET,CACED,GAAI,MACJC,MAAO,WAET,CACED,GAAI,MACJC,MAAO,iBAET,CACED,GAAI,MACJC,MAAO,SAET,CACED,GAAI,MACJC,MAAO,kBAET,CACED,GAAI,MACJC,MAAO,WAET,CACED,GAAI,MACJC,MAAO,aAET,CACED,GAAI,MACJC,MAAO,QAET,CACED,GAAI,MACJC,MAAO,eAET,CACED,GAAI,MACJC,MAAO,UAET,CACED,GAAI,MACJC,MAAO,SAET,CACED,GAAI,MACJC,MAAO,SAET,CACED,GAAI,MACJC,MAAO,eAET,CACED,GAAI,MACJC,MAAO,QAET,CACED,GAAI,MACJC,MAAO,YAET,CACED,GAAI,MACJC,MAAO,UAET,CACED,GAAI,MACJC,MAAO,oBAET,CACED,GAAI,MACJC,MAAO,QAET,CACED,GAAI,MACJC,MAAO,eAET,CACED,GAAI,MACJC,MAAO,SAET,CACED,GAAI,MACJC,MAAO,oBAET,CACED,GAAI,MACJC,MAAO,UAET,CACED,GAAI,MACJC,MAAO,eAET,CACED,GAAI,MACJC,MAAO,eAET,CACED,GAAI,MACJC,MAAO,YAET,CACED,GAAI,MACJC,MAAO,YAET,CACED,GAAI,MACJC,MAAO,aAET,CACED,GAAI,MACJC,MAAO,oBAET,CACED,GAAI,MACJC,MAAO,SAET,CACED,GAAI,MACJC,MAAO,cAET,CACED,GAAI,MACJC,MAAO,WAET,CACED,GAAI,MACJC,MAAO,UAET,CACED,GAAI,MACJC,MAAO,UAET,CACED,GAAI,MACJC,MAAO,gBAET,CACED,GAAI,MACJC,MAAO,SAET,CACED,GAAI,MACJC,MAAO,WAET,CACED,GAAI,MACJC,MAAO,aAET,CACED,GAAI,MACJC,MAAO,iBAET,CACED,GAAI,MACJC,MAAO,0BAET,CACED,GAAI,MACJC,MAAO,mBAET,CACED,GAAI,MACJC,MAAO,gBAET,CACED,GAAI,MACJC,MAAO,eAET,CACED,GAAI,MACJC,MAAO,cAET,CACED,GAAI,MACJC,MAAO,WAET,CACED,GAAI,MACJC,MAAO,6BAET,CACED,GAAI,MACJC,MAAO,UAET,CACED,GAAI,MACJC,MAAO,eAET,CACED,GAAI,MACJC,MAAO,kCAET,CACED,GAAI,MACJC,MAAO,YAET,CACED,GAAI,MACJC,MAAO,YAET,CACED,GAAI,MACJC,MAAO,YAET,CACED,GAAI,MACJC,MAAO,UAET,CACED,GAAI,MACJC,MAAO,YAET,CACED,GAAI,MACJC,MAAO,gBAET,CACED,GAAI,MACJC,MAAO,cAET,CACED,GAAI,MACJC,MAAO,SAET,CACED,GAAI,MACJC,MAAO,4BAET,CACED,GAAI,MACJC,MAAO,QAET,CACED,GAAI,MACJC,MAAO,QAET,CACED,GAAI,MACJC,MAAO,YAET,CACED,GAAI,MACJC,MAAO,cAET,CACED,GAAI,MACJC,MAAO,WAET,CACED,GAAI,MACJC,MAAO,gBAET,CACED,GAAI,MACJC,MAAO,eAET,CACED,GAAI,MACJC,MAAO,SAET,CACED,GAAI,MACJC,MAAO,uBAET,CACED,GAAI,MACJC,MAAO,WAET,CACED,GAAI,MACJC,MAAO,UAET,CACED,GAAI,MACJC,MAA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","file":"static/js/main.3ab3d9c9.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"multi-select_container__1HUhX\",\"selectionsContainer\":\"multi-select_selectionsContainer__3NK8I\",\"selectionItem\":\"multi-select_selectionItem__2QwN_\",\"selectionItemRemoveBtn\":\"multi-select_selectionItemRemoveBtn__294_q\",\"inputText\":\"multi-select_inputText__MUFP3\",\"toggleBtn\":\"multi-select_toggleBtn__2OjCF\",\"listContainer\":\"multi-select_listContainer__2MVO3\"};","import React, { Fragment } from 'react'\nimport { RouteComponentProps, Link } from '@reach/router'\nimport styles from './home.module.css'\n\nconst Home: React.FC<RouteComponentProps> = (): React.ReactElement => {\n  return (\n    <Fragment>\n      <h1 className={styles.title}>Pew Carrier Portal prototypes</h1>\n      <nav className={styles.nav}>\n        <Link to=\"search\">Search</Link>\n        <Link to=\"scrolling\">History scroll</Link>\n      </nav>\n    </Fragment>\n  )\n}\n\nexport default Home\n","import { DataSelectionGrouped, DataSelection, DataValue } from './search.types'\nimport { DataItem } from 'types/data'\n\n// Hack to look like spaces but be able to identify between input spaces and label spaces\nconst breakingSpaceCharacter = '\\u00a0'\nconst breakingSpaceRegex = new RegExp(breakingSpaceCharacter, 'g')\nexport const replaceWithBreakingSpaces = (string: string = '') =>\n  string.replace(/\\s/gi, breakingSpaceCharacter)\nexport const replaceWithNormalSpaces = (string: string = '') =>\n  string.replace(breakingSpaceRegex, ' ')\n\nexport const removeSpecialCharacters = (string: string): string => {\n  // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Regular_Expressions#Escaping\n  return string.replace(/[.*+?^${}/()|[\\]\\\\]/g, '')\n}\n\nexport const getInputFields = (input: string): string[] => {\n  if (!input) return []\n  return input\n    .replace(/:/gi, ' ')\n    .replace(/,/gi, ' ')\n    .split(' ')\n    .filter((i) => i)\n}\n\nexport const parseSelectionGroupedToInput = (\n  selections: DataSelectionGrouped,\n  lastCharacter: string = ' '\n) => {\n  const selectionsLength = Object.values(selections).length - 1\n  return Object.values(selections).reduce(\n    (acc: string, item: DataSelection, index: number) =>\n      `${acc !== '' ? `${acc} ` : ''}${item.type}:${item.values\n        .map((v: DataValue) => replaceWithBreakingSpaces(v.label))\n        .join(',')}${index === selectionsLength ? lastCharacter : ''}`,\n    ''\n  )\n}\n\nexport const groupSelectionsByType = (selections: DataItem[]): DataSelectionGrouped => {\n  if (selections === null) return {}\n  return selections.reduce((acc: DataSelectionGrouped, selection: DataItem) => {\n    const { type, id, label } = selection\n    const existingType = acc[type]\n    if (existingType) {\n      acc[type].values.push({ id, label })\n      return acc\n    }\n    return {\n      ...acc,\n      [type]: { type, values: [{ id, label }] },\n    }\n  }, {})\n}\n\nexport const parseSelectionToInput = (\n  selection: DataItem[],\n  lastCharacter: string = ' '\n): string => {\n  const groupedSelections = groupSelectionsByType(selection)\n  return parseSelectionGroupedToInput(groupedSelections, lastCharacter)\n}\n\nexport const parseInputToFields = (input: string): { type: string; labels: string[] }[] => {\n  return input\n    .split(' ')\n    .filter((s) => s)\n    .map((s) => {\n      const [type, labels] = s.split(':')\n      return {\n        type,\n        labels: labels\n          ? labels\n              .split(',')\n              .map(replaceWithNormalSpaces)\n              .filter((l) => l)\n          : [],\n      }\n    })\n}\n\nexport const calculateCursorPosition = (newInput: string, oldInput: string): number => {\n  if (!newInput || !oldInput) return 0\n  const length = Math.max(oldInput.length, newInput.length)\n  for (let i = 0; i < length; i++) {\n    if (newInput[i] === undefined) {\n      // is deleting characters\n      return i - 1\n    } else if (newInput[i] !== oldInput[i]) {\n      return i\n    }\n  }\n  return 0\n}\n","export const SEARCH_TYPES = {\n  flag: 'flag',\n  rfmo: 'rfmo',\n  vessel: 'vessel',\n  after: 'after',\n  before: 'before',\n  port: 'port',\n}\n\nexport const searchTypesList = [\n  SEARCH_TYPES.flag,\n  SEARCH_TYPES.rfmo,\n  SEARCH_TYPES.vessel,\n  SEARCH_TYPES.after,\n  SEARCH_TYPES.before,\n]\nexport const asyncFields = [SEARCH_TYPES.vessel]\nexport const singleSelectionFields = [SEARCH_TYPES.after, SEARCH_TYPES.before]\n","import React from 'react'\nimport styles from './search.module.css'\nimport Downshift, { DownshiftState, StateChangeOptions, ControllerStateAndHelpers } from 'downshift'\nimport CountryFlag from '@globalfishingwatch/map-components/components/countryflag'\nimport { FixedSizeList } from 'react-window'\nimport { DataItem } from 'types/data'\nimport { getInputFields, replaceWithBreakingSpaces, removeSpecialCharacters } from './search.utils'\nimport { SEARCH_TYPES } from './search.config'\n\n// TODO: highlight search terms on results list\n// const HighlightedField = ({ string, query }) => {\n//   if (!string) return ''\n//   const fragments = string.replace(new RegExp(query, 'gi'), `<mark>${query}</mark>`)\n//   return <span dangerouslySetInnerHTML={{ __html: fragments }} /> // eslint-disable-line\n// }\n\nconst getPlaceholderByType = (type: string): string => {\n  const prefix = 'Press ⏎ to'\n  switch (type) {\n    case SEARCH_TYPES.flag:\n      return `${prefix} see the activity of carriers from this flag state`\n    case SEARCH_TYPES.rfmo:\n      return `${prefix} see the activity that occurred in this RFMO area`\n    case SEARCH_TYPES.after:\n      return `${prefix} see the activity that occurred after this date`\n    case SEARCH_TYPES.before:\n      return `${prefix} see the activity that occurred before this date`\n    case SEARCH_TYPES.vessel:\n      return `${prefix} see the activity from this carrier`\n    default:\n      return `${prefix} select`\n  }\n}\n\nconst getInputWithErrors = (input: string, selection: DataItem[]) => {\n  if (!input) return ''\n  const selectionStrings =\n    selection !== null\n      ? Array.from(\n          new Set([\n            ...selection.map((s) => replaceWithBreakingSpaces(s.label)),\n            ...selection.map((s) => s.type),\n          ])\n        )\n      : []\n  const inputStrings = getInputFields(input)\n  const incorrectInputStrings = inputStrings.filter(\n    (i) => !selectionStrings.some((label) => label === i)\n  )\n  let inputWithErrors = removeSpecialCharacters(input)\n  if (incorrectInputStrings.length) {\n    incorrectInputStrings.forEach((incorrectInput) => {\n      inputWithErrors = inputWithErrors.replace(\n        new RegExp(`\\\\b${removeSpecialCharacters(incorrectInput)}\\\\b`, 'g'),\n        `<span class=${styles.searchItemError}>${incorrectInput}</span>`\n      )\n    })\n  }\n  return <span dangerouslySetInnerHTML={{ __html: inputWithErrors }} /> // eslint-disable-line\n}\n\ninterface SearchProps {\n  items: DataItem[]\n  loading?: boolean\n  setDownshiftRef(downshift: ControllerStateAndHelpers<any>): void\n  downshiftRefLoaded: boolean\n  initialInputValue?: string\n  initialSelection?: DataItem[]\n  selectedItems?: DataItem[]\n  itemToString(obj: DataItem): string\n  onChange?(selectedItems: DataItem[], downshiftState: any): void\n  customEventHandler?(event: React.SyntheticEvent, downshiftState: DownshiftState<DataItem[]>): void\n  stateReducer(\n    state: DownshiftState<DataItem[]>,\n    changes: StateChangeOptions<DataItem[]>\n  ): StateChangeOptions<DataItem[]>\n  onStateChange(\n    changes: StateChangeOptions<DataItem[]>,\n    downshiftState: DownshiftState<DataItem[]>\n  ): void\n}\n\nconst Search: React.FC<SearchProps> = (props) => {\n  const {\n    itemToString,\n    setDownshiftRef,\n    downshiftRefLoaded,\n    initialInputValue,\n    initialSelection,\n    onChange,\n    customEventHandler,\n    stateReducer,\n    items,\n    onStateChange,\n    loading,\n  } = props\n  const itemsWithLoading = loading\n    ? [...items, { type: 'loading', id: 'loading', label: 'loading' }]\n    : items\n  return (\n    <Downshift\n      onChange={onChange}\n      initialInputValue={initialInputValue}\n      initialSelectedItem={initialSelection}\n      stateReducer={stateReducer}\n      itemToString={itemToString}\n      onStateChange={onStateChange}\n      defaultHighlightedIndex={0}\n    >\n      {(downshift) => {\n        if (downshiftRefLoaded === false) {\n          setDownshiftRef(downshift)\n        }\n        const {\n          getInputProps,\n          getMenuProps,\n          getItemProps,\n          isOpen,\n          inputValue,\n          selectedItem,\n          highlightedIndex,\n        } = downshift\n        return (\n          <div className={styles.searchContainer}>\n            <div>\n              {!isOpen && (\n                <div className={styles.searchErrorsContainer}>\n                  {getInputWithErrors(inputValue || '', selectedItem)}\n                </div>\n              )}\n              <input\n                className={styles.searchInput}\n                {...getInputProps({\n                  placeholder: 'Start searching',\n                  onKeyDown:\n                    customEventHandler !== undefined\n                      ? (event) => customEventHandler(event, downshift)\n                      : undefined,\n                  onClick:\n                    customEventHandler !== undefined\n                      ? (event) => customEventHandler(event, downshift)\n                      : undefined,\n                })}\n                spellCheck={false}\n              />\n            </div>\n            {!isOpen ? null : (\n              <div className={styles.optionListContainer}>\n                {itemsWithLoading.length > 0 ? (\n                  <FixedSizeList\n                    height={300}\n                    itemSize={40}\n                    itemCount={itemsWithLoading.length}\n                    outerElementType=\"ul\"\n                    className={styles.optionList}\n                    {...getMenuProps()}\n                  >\n                    {({ index, style }) => {\n                      const item = itemsWithLoading[index]\n                      if (item.type === 'loading') {\n                        return (\n                          <li\n                            key={item.id}\n                            className={styles.optionlistItemLoading}\n                            style={{ ...style }}\n                          >\n                            <span className={styles.spinner} />\n                          </li>\n                        )\n                      }\n                      return (\n                        <li\n                          key={item.id}\n                          className={styles.optionlistItem}\n                          {...getItemProps({\n                            item,\n                            index,\n                          })}\n                          style={{\n                            ...style,\n                            backgroundColor: highlightedIndex === index ? '#ccc' : 'transparent',\n                            color: selectedItem === item ? '#0f0f0f' : '#000',\n                          }}\n                        >\n                          <div className={styles.optionListText}>\n                            {item.type}:{' '}\n                            {item.type === SEARCH_TYPES.flag && <CountryFlag iso={item.id} />}{' '}\n                            {itemToString(item)}\n                          </div>\n                          {highlightedIndex === index && (\n                            <span className={styles.optionlistItemPlaceholder}>\n                              {getPlaceholderByType(item.type)}\n                            </span>\n                          )}\n                        </li>\n                      )\n                    }}\n                  </FixedSizeList>\n                ) : (\n                  <span className={styles.optionlistItem}>\n                    There are no filters matching your query\n                  </span>\n                )}\n              </div>\n            )}\n          </div>\n        )\n      }}\n    </Downshift>\n  )\n}\n\nexport default Search\n","import { useEffect, useReducer } from 'react'\nimport matchSorter, { rankings } from 'match-sorter'\nimport { DataItem } from 'types/data'\nimport { VesselAPIResult } from 'types/api'\nimport { replaceWithNormalSpaces, getInputFields } from './search.utils'\nimport { searchTypesList, asyncFields } from './search.config'\nimport uniqBy from 'lodash/uniqBy'\nimport memoizeOne from 'memoize-one'\n\nconst parseSearchFieldsInput = (\n  input: string,\n  selectedItems: DataItem[],\n  cursorPosition: number\n): string[] => {\n  const selectedItemTypes = (selectedItems && selectedItems.map((i) => i.type)) || []\n  const selectedItemLabels = (selectedItems && selectedItems.map((i) => i.label)) || []\n  const existingSearchTypes: { [type: string]: boolean } = {}\n\n  const searchFields = getInputFields(input)\n    // Space replacement needs to be done after splitting by regular spaces\n    .map(replaceWithNormalSpaces)\n    .filter((v) => {\n      if (selectedItemTypes.includes(v)) {\n        // Needed when search by type with a current type filter added\n        if (!existingSearchTypes[v]) {\n          existingSearchTypes[v] = true\n          return false\n        } else {\n          return true\n        }\n      }\n      return !selectedItemLabels.includes(v)\n    })\n\n  let previousColonPosition = 0\n  for (let i = cursorPosition; i > 0; i--) {\n    if (input[i] === ':') {\n      previousColonPosition = i\n      break\n    }\n  }\n  const isSearchingInType =\n    input.slice(previousColonPosition, cursorPosition + 1).indexOf(' ') === -1\n\n  if (isSearchingInType) {\n    let currentTypeStartIndex = 0\n    for (let i = previousColonPosition; i > 0; i--) {\n      if (input[i] === ' ') {\n        currentTypeStartIndex = i + 1\n        break\n      }\n    }\n    const currentType = input.slice(currentTypeStartIndex, previousColonPosition)\n    if (currentType) {\n      searchFields.push(currentType)\n    }\n  }\n  return Array.from(new Set(searchFields))\n}\n\nconst filterOptionBySearchFields = memoizeOne(\n  (searchFields: string[], itemsNotSelected: DataItem[]) =>\n    searchFields.reduce((acc, cleanValue) => {\n      return matchSorter(acc, cleanValue, {\n        keys: [\n          { key: 'type', threshold: rankings.EQUAL },\n          { key: 'label', threshold: rankings.WORD_STARTS_WITH },\n        ],\n      })\n    }, itemsNotSelected)\n)\n\nconst filterItemsNotSelected = memoizeOne((items: DataItem[], selectedItemIds: string[]) => {\n  return selectedItemIds.length > 0 ? items.filter((i) => !selectedItemIds.includes(i.id)) : items\n})\n\nconst getItemsFiltered = (\n  items: DataItem[],\n  input: string,\n  selectedItems: DataItem[],\n  cursorPosition: number\n): DataItem[] => {\n  if (!input) return items\n  let selectedItemIds = (selectedItems && selectedItems.map((i) => i.id)) || []\n\n  const searchFields = parseSearchFieldsInput(input, selectedItems, cursorPosition)\n  const itemsNotSelected = filterItemsNotSelected(items, selectedItemIds)\n  const results = filterOptionBySearchFields(searchFields, itemsNotSelected)\n  return results\n}\n\ninterface ResultsAction {\n  type: 'inputChange' | 'startSearch' | 'endSearch' | 'setCursorPosition'\n  payload?: any\n}\n\ninterface ResultsState {\n  loading: boolean\n  staticData: DataItem[]\n  selectedItem: DataItem[]\n  cursorPosition: number\n  search: string\n  results: DataItem[]\n  cachedResults: DataItem[]\n}\n\nexport const useResultsFiltered = (staticData: DataItem[], initialValue?: string): any => {\n  const initialState: ResultsState = {\n    loading: false,\n    staticData,\n    selectedItem: [], // TODO: use the initial selection from url\n    cursorPosition: 0, // Calculate on init render\n    search: initialValue || '',\n    results: staticData, // Filter if initial value exists\n    cachedResults: staticData,\n  }\n  const resultsReducer = (state: ResultsState, action: ResultsAction): ResultsState => {\n    switch (action.type) {\n      case 'inputChange':\n        return {\n          ...state,\n          search: action.payload.search,\n          selectedItem: action.payload.selectedItem,\n        }\n      case 'setCursorPosition':\n        return { ...state, cursorPosition: action.payload }\n      case 'startSearch': {\n        const { staticData, search, selectedItem, cursorPosition } = state\n        return {\n          ...state,\n          results: getItemsFiltered(staticData, search, selectedItem, cursorPosition),\n          loading: action.payload,\n        }\n      }\n      case 'endSearch': {\n        return {\n          ...state,\n          results: [...state.results, ...action.payload],\n          cachedResults: uniqBy([...state.cachedResults, ...action.payload], 'id'),\n          loading: false,\n        }\n      }\n      default:\n        return state\n    }\n  }\n  const [state, dispatch] = useReducer(resultsReducer, initialState)\n  const { search, selectedItem, cursorPosition } = state\n\n  useEffect(() => {\n    const searchFields = parseSearchFieldsInput(search, selectedItem, cursorPosition)\n    const searchFieldsTypes = searchFields.filter((f) => searchTypesList.includes(f))\n    const needsRequest =\n      searchFieldsTypes.length === 0 || searchFieldsTypes.some((r) => asyncFields.includes(r))\n    const selectedItemIds = selectedItem.map((i: DataItem) => i.id)\n    const selectedItemLabels = selectedItem.map((i: DataItem) => i.label)\n    const searchQuery = searchFields\n      .filter((f) => !selectedItemLabels.includes(f) && !searchTypesList.includes(f))\n      .join(',')\n    const asyncNeeded = needsRequest && searchQuery !== ''\n    dispatch({ type: 'startSearch', payload: asyncNeeded })\n    if (asyncNeeded) {\n      // Check polyfill for this\n      const controller = new AbortController()\n      const searchUrl = `https://vessels-dot-world-fishing-827.appspot.com/datasets/indonesia/vessels?query=${searchQuery}&offset=0`\n\n      fetch(searchUrl, { signal: controller.signal })\n        .then((response) =>\n          response.status >= 200 && response.status < 300\n            ? Promise.resolve(response)\n            : Promise.reject(new Error(response.statusText))\n        )\n        .then((response) => response.json())\n        .then((data: VesselAPIResult) => {\n          const apiResults = data.entries\n            .filter((d) => d.name)\n            .map((d) => ({ id: d.vesselId, label: d.name, type: 'vessel' }))\n            .filter((d) => !selectedItemIds.includes(d.id))\n          dispatch({ type: 'endSearch', payload: apiResults })\n        })\n        .catch((err) => {\n          if (err.name !== 'AbortError') {\n            console.error('Oops!', err)\n          }\n          dispatch({ type: 'endSearch', payload: [] })\n        })\n      return () => controller.abort()\n    }\n  }, [search, cursorPosition, selectedItem])\n\n  return [state, dispatch]\n}\n","import React, { useCallback, useMemo, useRef, useEffect } from 'react'\nimport SearchComponent from './search'\nimport Downshift, { DownshiftState, StateChangeOptions } from 'downshift'\nimport { useResultsFiltered } from './search.hooks'\n\nimport { DataItem } from 'types/data'\nimport { parseSelectionToInput, calculateCursorPosition, parseInputToFields } from './search.utils'\nimport debounce from 'lodash/debounce'\nimport uniqBy from 'lodash/uniqBy'\nimport { singleSelectionFields } from './search.config'\n\ninterface SearchContainerProps {\n  selectedItems: DataItem[]\n  staticOptions: DataItem[]\n  onChange(selectedItems: DataItem[]): void\n}\n\nconst SearchContainer: React.FC<SearchContainerProps> = (props) => {\n  const { selectedItems, onChange, staticOptions } = props\n  const [state, dispatch] = useResultsFiltered(staticOptions, '')\n  const { results, loading, cachedResults } = state\n\n  const debouncedDispatchChange = useMemo(\n    () =>\n      debounce((payload) => {\n        dispatch({ type: 'inputChange', payload })\n      }, 100),\n    [dispatch]\n  )\n\n  const handleStateChange = useCallback(\n    (changes: StateChangeOptions<DataItem[]>, downshiftState: DownshiftState<DataItem[]>) => {\n      if (changes.hasOwnProperty('inputValue')) {\n        const { inputValue = '', selectedItem } = downshiftState\n        const inputValueString = inputValue || ''\n        debouncedDispatchChange({ search: inputValueString, selectedItem })\n      }\n    },\n    [debouncedDispatchChange]\n  )\n\n  const handleConfirmSelection = (\n    state: DownshiftState<any>,\n    changes: StateChangeOptions<any>,\n    lastCharacter: string = ' '\n  ): StateChangeOptions<any> => {\n    const currentItems = state.selectedItem || []\n    const isAlreadySelectedType = currentItems.some(\n      (item: DataItem) => item.type === changes.selectedItem.type\n    )\n    const isSingleSelectionField = singleSelectionFields.includes(changes.selectedItem.type)\n    let selectedItem = [...currentItems]\n\n    if ((isSingleSelectionField && !isAlreadySelectedType) || !isSingleSelectionField) {\n      selectedItem.push(changes.selectedItem)\n    } else {\n      selectedItem = selectedItem.map((s) => {\n        return s.type === changes.selectedItem.type ? changes.selectedItem : s\n      })\n    }\n\n    // Adding a space at the end to start with a clean search when press enter\n    const inputValue = parseSelectionToInput(selectedItem, lastCharacter)\n    return { ...changes, selectedItem, inputValue }\n  }\n\n  const getSelectedItemsByInput = (input: string, currentSelection: DataItem[]): DataItem[] => {\n    const inputValuesParsed = input ? parseInputToFields(input) : null\n    return inputValuesParsed !== null\n      ? currentSelection.filter(\n          (i: DataItem) =>\n            inputValuesParsed.find(\n              (p) => p.type === i.type && p.labels !== undefined && p.labels.includes(i.label)\n            ) !== undefined\n        )\n      : []\n  }\n\n  const handleExternalChanges = useCallback(\n    (\n      state: DownshiftState<DataItem[]>,\n      changes: StateChangeOptions<DataItem[]>\n    ): StateChangeOptions<DataItem[]> => {\n      const typesIncluded: { [string: string]: boolean } = {}\n      if (!changes.selectedItem || !state.selectedItem) return changes\n      // TODO: has a more accurate comparison\n      if (state.selectedItem.length === changes.selectedItem.length) {\n        return changes\n      }\n      const uniqueSelections = uniqBy(changes.selectedItem, 'id')\n      const selectedItem = uniqueSelections.filter((item) => {\n        if (!item) return false\n        if (typesIncluded[item.type] !== undefined) {\n          return !singleSelectionFields.includes(item.type)\n        }\n        typesIncluded[item.type] = true\n        return true\n      })\n      const inputValue = parseSelectionToInput(selectedItem)\n      return { ...changes, inputValue, selectedItem }\n    },\n    []\n  )\n  const handleChangeInput = useCallback(\n    (\n      state: DownshiftState<DataItem[]>,\n      changes: StateChangeOptions<DataItem[]>\n    ): StateChangeOptions<DataItem[]> => {\n      const inputValue = changes.inputValue || ''\n      const selectedItems = state.selectedItem || []\n      const selectedOptions = uniqBy([...selectedItems, ...cachedResults], 'id')\n      const selectedItem = getSelectedItemsByInput(inputValue, selectedOptions)\n      const cursorPosition = calculateCursorPosition(\n        changes.inputValue || '',\n        state.inputValue || ''\n      )\n      dispatch({ type: 'setCursorPosition', payload: cursorPosition })\n\n      return {\n        ...changes,\n        selectedItem,\n        isOpen: inputValue !== '' && inputValue[cursorPosition] !== ',',\n      }\n    },\n    [cachedResults, dispatch]\n  )\n\n  const stateReducer = useCallback(\n    (\n      state: DownshiftState<DataItem[]>,\n      changes: StateChangeOptions<DataItem[]>\n    ): StateChangeOptions<DataItem[]> => {\n      switch (changes.type as any) {\n        case Downshift.stateChangeTypes.keyDownEnter:\n        case Downshift.stateChangeTypes.clickItem: {\n          return handleConfirmSelection(state, changes)\n        }\n        case 'keyDownComa': {\n          return handleConfirmSelection(state, changes, '')\n        }\n        case 'externalChanges': {\n          return handleExternalChanges(state, changes)\n        }\n        case Downshift.stateChangeTypes.changeInput: {\n          return handleChangeInput(state, changes)\n        }\n        default:\n          // Avoids warning on uncontrolled input value\n          return {\n            ...changes,\n            inputValue: changes.inputValue || state.inputValue || '',\n            selectedItem: changes.selectedItem || state.selectedItem || [],\n          }\n      }\n    },\n    [handleChangeInput, handleExternalChanges]\n  )\n\n  const customEventHandler = useCallback(\n    (event: any, downshift: any) => {\n      if (event.key === 'ArrowLeft' || event.key === 'ArrowRight' || event.type === 'click') {\n        const cursorPosition = event.target.selectionStart\n        dispatch({ type: 'setCursorPosition', payload: cursorPosition })\n      }\n      const { highlightedIndex, inputValue, setState } = downshift\n      const hasValue = inputValue !== '' && inputValue !== ' '\n      const isSpace = event.key === ' '\n      const isComma = event.key === ','\n      const hasOneOptions = results.length === 1\n      if (hasValue && ((isSpace || isComma) && hasOneOptions)) {\n        event.nativeEvent.preventDownshiftDefault = true\n        if (highlightedIndex !== null && highlightedIndex >= 0) {\n          const selectedItem = results[highlightedIndex]\n          if (selectedItem) {\n            setState({\n              type: 'keyDownComa',\n              selectedItem,\n              inputValue,\n            })\n          }\n        }\n      }\n    },\n    [dispatch, results]\n  )\n\n  const itemToString = useCallback((i: DataItem): string => {\n    return i ? i.label : ''\n  }, [])\n\n  const initialInputValue = useMemo((): string => {\n    return selectedItems !== null ? parseSelectionToInput(selectedItems) : ''\n  }, [selectedItems])\n\n  const initialSelection = useMemo((): DataItem[] => {\n    return selectedItems || []\n  }, [selectedItems])\n\n  const downshiftRef = useRef<any | null>(null)\n  const setDownshiftRef = useCallback((downshift: any): void => {\n    downshiftRef.current = downshift\n  }, [])\n\n  useEffect(() => {\n    if (downshiftRef.current !== null) {\n      const { setState } = downshiftRef.current\n      setState({\n        type: 'externalChanges',\n        selectedItem: selectedItems,\n      })\n    }\n  }, [selectedItems])\n\n  return (\n    <SearchComponent\n      items={results}\n      loading={loading}\n      onChange={onChange}\n      setDownshiftRef={setDownshiftRef}\n      downshiftRefLoaded={downshiftRef.current !== null}\n      itemToString={itemToString}\n      stateReducer={stateReducer}\n      selectedItems={selectedItems}\n      initialSelection={initialSelection}\n      initialInputValue={initialInputValue}\n      customEventHandler={customEventHandler}\n      onStateChange={handleStateChange}\n    />\n  )\n}\n\nexport default SearchContainer\n","import React from 'react'\nimport Downshift, { DownshiftState, StateChangeOptions } from 'downshift'\nimport styles from './multi-select.module.css'\nimport matchSorter from 'match-sorter'\nimport { DataItem } from 'types/data'\n\ninterface MultiSelectProps {\n  options: DataItem[]\n  selectedItems: DataItem[]\n  onSelectedItem(item: DataItem): void\n  onRemoveItem(item: DataItem): void\n}\n\nclass MultiSelect extends React.Component<MultiSelectProps> {\n  input = React.createRef<any>()\n  itemToString = (item: DataItem) => (item ? item.label : '')\n\n  getItems(filter: string): DataItem[] {\n    return filter\n      ? matchSorter(this.props.options, filter, {\n          keys: ['label'],\n        })\n      : this.props.options\n  }\n\n  stateReducer(\n    state: DownshiftState<DataItem[]>,\n    changes: StateChangeOptions<DataItem[]>\n  ): StateChangeOptions<DataItem[]> {\n    switch (changes.type) {\n      case Downshift.stateChangeTypes.keyDownEnter:\n      case Downshift.stateChangeTypes.clickItem:\n        return {\n          ...changes,\n          highlightedIndex: state.highlightedIndex,\n          isOpen: true,\n          inputValue: '',\n        }\n      default:\n        return changes\n    }\n  }\n\n  handleChange = (selectedItem: DataItem) => {\n    if (this.props.selectedItems.includes(selectedItem)) {\n      this.props.onRemoveItem(selectedItem)\n    } else {\n      this.props.onSelectedItem(selectedItem)\n    }\n  }\n\n  render() {\n    const { selectedItems, onRemoveItem } = this.props\n    return (\n      <Downshift\n        stateReducer={this.stateReducer}\n        selectedItem={null}\n        onChange={this.handleChange}\n        itemToString={this.itemToString}\n      >\n        {(downshift: any) => {\n          const {\n            getInputProps,\n            getToggleButtonProps,\n            getMenuProps,\n            isOpen,\n            inputValue,\n            getItemProps,\n            highlightedIndex,\n            toggleMenu,\n          } = downshift\n          return (\n            <div className={styles.container}>\n              <div\n                onClick={() => {\n                  toggleMenu()\n                  !isOpen && this.input.current !== null && this.input.current.focus()\n                }}\n              >\n                <div className={styles.selections}>\n                  {selectedItems.length > 0\n                    ? selectedItems.map((item: DataItem) => (\n                        <div key={item.id} className={styles.selectionItem}>\n                          <div>\n                            <span>{item.label}</span>\n                            <button\n                              onClick={(e: any) => {\n                                e.stopPropagation()\n                                onRemoveItem(item)\n                              }}\n                              className={styles.selectionItemRemoveBtn}\n                            >\n                              𝘅\n                            </button>\n                          </div>\n                        </div>\n                      ))\n                    : 'Select a value'}\n                  <input\n                    {...getInputProps({\n                      ref: this.input,\n                      onKeyUp(event: React.KeyboardEvent<HTMLInputElement>) {\n                        if (event.key === 'Backspace' && !inputValue) {\n                          onRemoveItem(selectedItems[selectedItems.length - 1])\n                        }\n                      },\n                    })}\n                    className={styles.inputText}\n                  />\n                </div>\n                <button\n                  {...getToggleButtonProps({\n                    // prevents the menu from immediately toggling\n                    // closed (due to our custom click handler above).\n                    onClick(event: React.MouseEvent) {\n                      event.stopPropagation()\n                    },\n                  })}\n                  className={styles.toggleBtn}\n                >\n                  <svg\n                    viewBox=\"0 0 20 20\"\n                    preserveAspectRatio=\"none\"\n                    width={16}\n                    fill=\"transparent\"\n                    stroke=\"#979797\"\n                    strokeWidth=\"1.1px\"\n                    transform={isOpen ? 'rotate(180)' : undefined}\n                  >\n                    <path d=\"M1,6 L10,15 L19,6\" />\n                  </svg>\n                </button>\n              </div>\n              <ul {...getMenuProps()} className={styles.listContainer}>\n                {isOpen\n                  ? this.getItems(inputValue).map((item, index) => (\n                      <li\n                        key={item.id}\n                        {...getItemProps({ item, index })}\n                        style={{\n                          backgroundColor: highlightedIndex === index ? '#ccc' : 'transparent',\n                          color: selectedItems.includes(item) ? '#0f0f0f' : '#000',\n                        }}\n                      >\n                        {item.label}\n                      </li>\n                    ))\n                  : null}\n              </ul>\n            </div>\n          )\n        }}\n      </Downshift>\n    )\n  }\n}\n\nexport default MultiSelect\n","import { Data } from 'types/data'\n\nconst getDayLabel = (date: Date): string => {\n  if (!date) return ''\n  return `${date.getFullYear()}/${date.getMonth() + 1}/${date.getDate()}`\n}\n\nconst yearsWithData: number[] = [2017]\n\n// const years = yearsWithData.map((year) => {\n//   const date = new Date(Date.UTC(year))\n//   return { id: date.toISOString(), label: `${date.getFullYear()}` }\n// })\n\n// const months = yearsWithData.flatMap((year) => {\n//   return Array.from(Array(12).keys()).reduce((acc, month) => {\n//     const date = new Date(Date.UTC(year, month))\n//     acc.push({ id: date.toISOString(), label: `${date.getFullYear()}/${date.getMonth() + 1}` })\n//     return acc\n//   }, [])\n// })\n\nexport const days: Data[] = yearsWithData.flatMap((year) => {\n  return Array.from(Array(12).keys()).reduce((monthsAccumulate: Data[], month) => {\n    //Day 0 is the last day in the previous month\n    const daysInMonth = new Date(Date.UTC(year, month + 1, 0)).getDate()\n    const daysOfMonth = Array.from(Array(daysInMonth).keys()).reduce(\n      (daysAccumulate: Data[], day: number) => {\n        const date = new Date(Date.UTC(year, month, day + 1))\n        daysAccumulate.push({\n          id: date.toISOString(),\n          label: getDayLabel(date),\n        })\n        return daysAccumulate\n      },\n      []\n    )\n    return [...monthsAccumulate, ...daysOfMonth]\n  }, [])\n})\n\nconst lastYearDate: Date = new Date(Date.UTC(yearsWithData[yearsWithData.length - 1] + 1, 0))\nexport const lastDate: Data = {\n  id: lastYearDate.toISOString(),\n  label: getDayLabel(lastYearDate),\n}\n","import rfmosData from './rfmos'\nimport flagsData from './flags'\nimport { days, lastDate } from './dates'\nimport { SEARCH_TYPES } from 'components/search/search.config'\nimport { DataItem } from 'types/data'\n\nconst rfmos: DataItem[] = rfmosData.map((rfmo) => ({ ...rfmo, type: SEARCH_TYPES.rfmo }))\nconst flags: DataItem[] = flagsData.map((flag) => ({ ...flag, type: SEARCH_TYPES.flag }))\nconst ports: DataItem[] = Array.from(Array(500).keys()).map((i) => ({\n  id: i.toString(),\n  label: `Port ${i}`,\n  type: SEARCH_TYPES.port,\n}))\nconst after: DataItem[] = days.map((after) => ({ ...after, type: SEARCH_TYPES.after }))\nconst before: DataItem[] = days.map((before) => ({ ...before, type: SEARCH_TYPES.before }))\n// Adds one more day to set the before limit\nbefore.push({ ...lastDate, type: SEARCH_TYPES.before })\n\nexport default [...rfmos, ...flags, ...ports, ...after, ...before]\n\nexport { rfmos, flags, after, before }\n","export default [\n  {\n    id: 'ICCAT',\n    label: 'ICCAT',\n  },\n  {\n    id: 'IOTC',\n    label: 'IOTC',\n  },\n  {\n    id: 'WCPFC',\n    label: 'WCPFC',\n  },\n  {\n    id: 'IATTC',\n    label: 'IATTC',\n  },\n  {\n    id: 'AIDCP',\n    label: 'AIDCP',\n  },\n  {\n    id: 'CCSBT',\n    label: 'CCSBT',\n  },\n]\n","export default [\n  {\n    id: 'ABW',\n    label: 'Aruba',\n  },\n  {\n    id: 'AFG',\n    label: 'Afghanistan',\n  },\n  {\n    id: 'AGO',\n    label: 'Angola',\n  },\n  {\n    id: 'AIA',\n    label: 'Anguilla',\n  },\n  {\n    id: 'ALA',\n    label: 'Åland Islands',\n  },\n  {\n    id: 'ALB',\n    label: 'Albania',\n  },\n  {\n    id: 'AND',\n    label: 'Andorra',\n  },\n  {\n    id: 'ARE',\n    label: 'United Arab Emirates',\n  },\n  {\n    id: 'ARG',\n    label: 'Argentina',\n  },\n  {\n    id: 'ARM',\n    label: 'Armenia',\n  },\n  {\n    id: 'ASM',\n    label: 'American Samoa',\n  },\n  {\n    id: 'ATA',\n    label: 'Antarctica',\n  },\n  {\n    id: 'ATF',\n    label: 'French Southern and Antarctic Lands',\n  },\n  {\n    id: 'ATG',\n    label: 'Antigua and Barbuda',\n  },\n  {\n    id: 'AUS',\n    label: 'Australia',\n  },\n  {\n    id: 'AUT',\n    label: 'Austria',\n  },\n  {\n    id: 'AZE',\n    label: 'Azerbaijan',\n  },\n  {\n    id: 'BDI',\n    label: 'Burundi',\n  },\n  {\n    id: 'BEL',\n    label: 'Belgium',\n  },\n  {\n    id: 'BEN',\n    label: 'Benin',\n  },\n  {\n    id: 'BFA',\n    label: 'Burkina Faso',\n  },\n  {\n    id: 'BGD',\n    label: 'Bangladesh',\n  },\n  {\n    id: 'BGR',\n    label: 'Bulgaria',\n  },\n  {\n    id: 'BHR',\n    label: 'Bahrain',\n  },\n  {\n    id: 'BHS',\n    label: 'Bahamas',\n  },\n  {\n    id: 'BIH',\n    label: 'Bosnia and Herzegovina',\n  },\n  {\n    id: 'BLM',\n    label: 'Saint Barthélemy',\n  },\n  {\n    id: 'SHN',\n    label: 'Saint Helena Ascension and Tristan da Cunha',\n  },\n  {\n    id: 'BLR',\n    label: 'Belarus',\n  },\n  {\n    id: 'BLZ',\n    label: 'Belize',\n  },\n  {\n    id: 'BMU',\n    label: 'Bermuda',\n  },\n  {\n    id: 'BOL',\n    label: 'Bolivia',\n  },\n  {\n    id: 'BES',\n    label: 'Caribbean Netherlands',\n  },\n  {\n    id: 'BRA',\n    label: 'Brazil',\n  },\n  {\n    id: 'BRB',\n    label: 'Barbados',\n  },\n  {\n    id: 'BRN',\n    label: 'Brunei',\n  },\n  {\n    id: 'BTN',\n    label: 'Bhutan',\n  },\n  {\n    id: 'BVT',\n    label: 'Bouvet Island',\n  },\n  {\n    id: 'BWA',\n    label: 'Botswana',\n  },\n  {\n    id: 'CAF',\n    label: 'Central African Republic',\n  },\n  {\n    id: 'CAN',\n    label: 'Canada',\n  },\n  {\n    id: 'CCK',\n    label: 'Cocos (Keeling) Islands',\n  },\n  {\n    id: 'CHE',\n    label: 'Switzerland',\n  },\n  {\n    id: 'CHL',\n    label: 'Chile',\n  },\n  {\n    id: 'CHN',\n    label: 'China',\n  },\n  {\n    id: 'CIV',\n    label: 'Ivory Coast',\n  },\n  {\n    id: 'CMR',\n    label: 'Cameroon',\n  },\n  {\n    id: 'COD',\n    label: 'DR Congo',\n  },\n  {\n    id: 'COG',\n    label: 'Republic of the Congo',\n  },\n  {\n    id: 'COK',\n    label: 'Cook Islands',\n  },\n  {\n    id: 'COL',\n    label: 'Colombia',\n  },\n  {\n    id: 'COM',\n    label: 'Comoros',\n  },\n  {\n    id: 'CPV',\n    label: 'Cape Verde',\n  },\n  {\n    id: 'CRI',\n    label: 'Costa Rica',\n  },\n  {\n    id: 'CUB',\n    label: 'Cuba',\n  },\n  {\n    id: 'CUW',\n    label: 'Curaçao',\n  },\n  {\n    id: 'CXR',\n    label: 'Christmas Island',\n  },\n  {\n    id: 'CYM',\n    label: 'Cayman Islands',\n  },\n  {\n    id: 'CYP',\n    label: 'Cyprus',\n  },\n  {\n    id: 'CZE',\n    label: 'Czechia',\n  },\n  {\n    id: 'DEU',\n    label: 'Germany',\n  },\n  {\n    id: 'DJI',\n    label: 'Djibouti',\n  },\n  {\n    id: 'DMA',\n    label: 'Dominica',\n  },\n  {\n    id: 'DNK',\n    label: 'Denmark',\n  },\n  {\n    id: 'DOM',\n    label: 'Dominican Republic',\n  },\n  {\n    id: 'DZA',\n    label: 'Algeria',\n  },\n  {\n    id: 'ECU',\n    label: 'Ecuador',\n  },\n  {\n    id: 'EGY',\n    label: 'Egypt',\n  },\n  {\n    id: 'ERI',\n    label: 'Eritrea',\n  },\n  {\n    id: 'ESH',\n    label: 'Western Sahara',\n  },\n  {\n    id: 'ESP',\n    label: 'Spain',\n  },\n  {\n    id: 'EST',\n    label: 'Estonia',\n  },\n  {\n    id: 'ETH',\n    label: 'Ethiopia',\n  },\n  {\n    id: 'FIN',\n    label: 'Finland',\n  },\n  {\n    id: 'FJI',\n    label: 'Fiji',\n  },\n  {\n    id: 'FLK',\n    label: 'Falkland Islands',\n  },\n  {\n    id: 'FRA',\n    label: 'France',\n  },\n  {\n    id: 'FRO',\n    label: 'Faroe Islands',\n  },\n  {\n    id: 'FSM',\n    label: 'Micronesia',\n  },\n  {\n    id: 'GAB',\n    label: 'Gabon',\n  },\n  {\n    id: 'GBR',\n    label: 'United Kingdom',\n  },\n  {\n    id: 'GEO',\n    label: 'Georgia',\n  },\n  {\n    id: 'GGY',\n    label: 'Guernsey',\n  },\n  {\n    id: 'GHA',\n    label: 'Ghana',\n  },\n  {\n    id: 'GIB',\n    label: 'Gibraltar',\n  },\n  {\n    id: 'GIN',\n    label: 'Guinea',\n  },\n  {\n    id: 'GLP',\n    label: 'Guadeloupe',\n  },\n  {\n    id: 'GMB',\n    label: 'Gambia',\n  },\n  {\n    id: 'GNB',\n    label: 'Guinea-Bissau',\n  },\n  {\n    id: 'GNQ',\n    label: 'Equatorial Guinea',\n  },\n  {\n    id: 'GRC',\n    label: 'Greece',\n  },\n  {\n    id: 'GRD',\n    label: 'Grenada',\n  },\n  {\n    id: 'GRL',\n    label: 'Greenland',\n  },\n  {\n    id: 'GTM',\n    label: 'Guatemala',\n  },\n  {\n    id: 'GUF',\n    label: 'French Guiana',\n  },\n  {\n    id: 'GUM',\n    label: 'Guam',\n  },\n  {\n    id: 'GUY',\n    label: 'Guyana',\n  },\n  {\n    id: 'HKG',\n    label: 'Hong Kong',\n  },\n  {\n    id: 'HMD',\n    label: 'Heard Island and McDonald Islands',\n  },\n  {\n    id: 'HND',\n    label: 'Honduras',\n  },\n  {\n    id: 'HRV',\n    label: 'Croatia',\n  },\n  {\n    id: 'HTI',\n    label: 'Haiti',\n  },\n  {\n    id: 'HUN',\n    label: 'Hungary',\n  },\n  {\n    id: 'IDN',\n    label: 'Indonesia',\n  },\n  {\n    id: 'IMN',\n    label: 'Isle of Man',\n  },\n  {\n    id: 'IND',\n    label: 'India',\n  },\n  {\n    id: 'IOT',\n    label: 'British Indian Ocean Territory',\n  },\n  {\n    id: 'IRL',\n    label: 'Ireland',\n  },\n  {\n    id: 'IRN',\n    label: 'Iran',\n  },\n  {\n    id: 'IRQ',\n    label: 'Iraq',\n  },\n  {\n    id: 'ISL',\n    label: 'Iceland',\n  },\n  {\n    id: 'ISR',\n    label: 'Israel',\n  },\n  {\n    id: 'ITA',\n    label: 'Italy',\n  },\n  {\n    id: 'JAM',\n    label: 'Jamaica',\n  },\n  {\n    id: 'JEY',\n    label: 'Jersey',\n  },\n  {\n    id: 'JOR',\n    label: 'Jordan',\n  },\n  {\n    id: 'JPN',\n    label: 'Japan',\n  },\n  {\n    id: 'KAZ',\n    label: 'Kazakhstan',\n  },\n  {\n    id: 'KEN',\n    label: 'Kenya',\n  },\n  {\n    id: 'KGZ',\n    label: 'Kyrgyzstan',\n  },\n  {\n    id: 'KHM',\n    label: 'Cambodia',\n  },\n  {\n    id: 'KIR',\n    label: 'Kiribati',\n  },\n  {\n    id: 'KNA',\n    label: 'Saint Kitts and Nevis',\n  },\n  {\n    id: 'KOR',\n    label: 'South Korea',\n  },\n  {\n    id: 'UNK',\n    label: 'Kosovo',\n  },\n  {\n    id: 'KWT',\n    label: 'Kuwait',\n  },\n  {\n    id: 'LAO',\n    label: 'Laos',\n  },\n  {\n    id: 'LBN',\n    label: 'Lebanon',\n  },\n  {\n    id: 'LBR',\n    label: 'Liberia',\n  },\n  {\n    id: 'LBY',\n    label: 'Libya',\n  },\n  {\n    id: 'LCA',\n    label: 'Saint Lucia',\n  },\n  {\n    id: 'LIE',\n    label: 'Liechtenstein',\n  },\n  {\n    id: 'LKA',\n    label: 'Sri Lanka',\n  },\n  {\n    id: 'LSO',\n    label: 'Lesotho',\n  },\n  {\n    id: 'LTU',\n    label: 'Lithuania',\n  },\n  {\n    id: 'LUX',\n    label: 'Luxembourg',\n  },\n  {\n    id: 'LVA',\n    label: 'Latvia',\n  },\n  {\n    id: 'MAC',\n    label: 'Macau',\n  },\n  {\n    id: 'MAF',\n    label: 'Saint Martin',\n  },\n  {\n    id: 'MAR',\n    label: 'Morocco',\n  },\n  {\n    id: 'MCO',\n    label: 'Monaco',\n  },\n  {\n    id: 'MDA',\n    label: 'Moldova',\n  },\n  {\n    id: 'MDG',\n    label: 'Madagascar',\n  },\n  {\n    id: 'MDV',\n    label: 'Maldives',\n  },\n  {\n    id: 'MEX',\n    label: 'Mexico',\n  },\n  {\n    id: 'MHL',\n    label: 'Marshall Islands',\n  },\n  {\n    id: 'MKD',\n    label: 'Macedonia',\n  },\n  {\n    id: 'MLI',\n    label: 'Mali',\n  },\n  {\n    id: 'MLT',\n    label: 'Malta',\n  },\n  {\n    id: 'MMR',\n    label: 'Myanmar',\n  },\n  {\n    id: 'MNE',\n    label: 'Montenegro',\n  },\n  {\n    id: 'MNG',\n    label: 'Mongolia',\n  },\n  {\n    id: 'MNP',\n    label: 'Northern Mariana Islands',\n  },\n  {\n    id: 'MOZ',\n    label: 'Mozambique',\n  },\n  {\n    id: 'MRT',\n    label: 'Mauritania',\n  },\n  {\n    id: 'MSR',\n    label: 'Montserrat',\n  },\n  {\n    id: 'MTQ',\n    label: 'Martinique',\n  },\n  {\n    id: 'MUS',\n    label: 'Mauritius',\n  },\n  {\n    id: 'MWI',\n    label: 'Malawi',\n  },\n  {\n    id: 'MYS',\n    label: 'Malaysia',\n  },\n  {\n    id: 'MYT',\n    label: 'Mayotte',\n  },\n  {\n    id: 'NAM',\n    label: 'Namibia',\n  },\n  {\n    id: 'NCL',\n    label: 'New Caledonia',\n  },\n  {\n    id: 'NER',\n    label: 'Niger',\n  },\n  {\n    id: 'NFK',\n    label: 'Norfolk Island',\n  },\n  {\n    id: 'NGA',\n    label: 'Nigeria',\n  },\n  {\n    id: 'NIC',\n    label: 'Nicaragua',\n  },\n  {\n    id: 'NIU',\n    label: 'Niue',\n  },\n  {\n    id: 'NLD',\n    label: 'Netherlands',\n  },\n  {\n    id: 'NOR',\n    label: 'Norway',\n  },\n  {\n    id: 'NPL',\n    label: 'Nepal',\n  },\n  {\n    id: 'NRU',\n    label: 'Nauru',\n  },\n  {\n    id: 'NZL',\n    label: 'New Zealand',\n  },\n  {\n    id: 'OMN',\n    label: 'Oman',\n  },\n  {\n    id: 'PAK',\n    label: 'Pakistan',\n  },\n  {\n    id: 'PAN',\n    label: 'Panama',\n  },\n  {\n    id: 'PCN',\n    label: 'Pitcairn Islands',\n  },\n  {\n    id: 'PER',\n    label: 'Peru',\n  },\n  {\n    id: 'PHL',\n    label: 'Philippines',\n  },\n  {\n    id: 'PLW',\n    label: 'Palau',\n  },\n  {\n    id: 'PNG',\n    label: 'Papua New Guinea',\n  },\n  {\n    id: 'POL',\n    label: 'Poland',\n  },\n  {\n    id: 'PRI',\n    label: 'Puerto Rico',\n  },\n  {\n    id: 'PRK',\n    label: 'North Korea',\n  },\n  {\n    id: 'PRT',\n    label: 'Portugal',\n  },\n  {\n    id: 'PRY',\n    label: 'Paraguay',\n  },\n  {\n    id: 'PSE',\n    label: 'Palestine',\n  },\n  {\n    id: 'PYF',\n    label: 'French Polynesia',\n  },\n  {\n    id: 'QAT',\n    label: 'Qatar',\n  },\n  {\n    id: 'REU',\n    label: 'Réunion',\n  },\n  {\n    id: 'ROU',\n    label: 'Romania',\n  },\n  {\n    id: 'RUS',\n    label: 'Russia',\n  },\n  {\n    id: 'RWA',\n    label: 'Rwanda',\n  },\n  {\n    id: 'SAU',\n    label: 'Saudi Arabia',\n  },\n  {\n    id: 'SDN',\n    label: 'Sudan',\n  },\n  {\n    id: 'SEN',\n    label: 'Senegal',\n  },\n  {\n    id: 'SGP',\n    label: 'Singapore',\n  },\n  {\n    id: 'SGS',\n    label: 'South Georgia',\n  },\n  {\n    id: 'SJM',\n    label: 'Svalbard and Jan Mayen',\n  },\n  {\n    id: 'SLB',\n    label: 'Solomon Islands',\n  },\n  {\n    id: 'SLE',\n    label: 'Sierra Leone',\n  },\n  {\n    id: 'SLV',\n    label: 'El Salvador',\n  },\n  {\n    id: 'SMR',\n    label: 'San Marino',\n  },\n  {\n    id: 'SOM',\n    label: 'Somalia',\n  },\n  {\n    id: 'SPM',\n    label: 'Saint Pierre and Miquelon',\n  },\n  {\n    id: 'SRB',\n    label: 'Serbia',\n  },\n  {\n    id: 'SSD',\n    label: 'South Sudan',\n  },\n  {\n    id: 'STP',\n    label: 'São Tomé and Príncipe',\n  },\n  {\n    id: 'SUR',\n    label: 'Suriname',\n  },\n  {\n    id: 'SVK',\n    label: 'Slovakia',\n  },\n  {\n    id: 'SVN',\n    label: 'Slovenia',\n  },\n  {\n    id: 'SWE',\n    label: 'Sweden',\n  },\n  {\n    id: 'SWZ',\n    label: 'Eswatini',\n  },\n  {\n    id: 'SXM',\n    label: 'Sint Maarten',\n  },\n  {\n    id: 'SYC',\n    label: 'Seychelles',\n  },\n  {\n    id: 'SYR',\n    label: 'Syria',\n  },\n  {\n    id: 'TCA',\n    label: 'Turks and Caicos Islands',\n  },\n  {\n    id: 'TCD',\n    label: 'Chad',\n  },\n  {\n    id: 'TGO',\n    label: 'Togo',\n  },\n  {\n    id: 'THA',\n    label: 'Thailand',\n  },\n  {\n    id: 'TJK',\n    label: 'Tajikistan',\n  },\n  {\n    id: 'TKL',\n    label: 'Tokelau',\n  },\n  {\n    id: 'TKM',\n    label: 'Turkmenistan',\n  },\n  {\n    id: 'TLS',\n    label: 'Timor-Leste',\n  },\n  {\n    id: 'TON',\n    label: 'Tonga',\n  },\n  {\n    id: 'TTO',\n    label: 'Trinidad and Tobago',\n  },\n  {\n    id: 'TUN',\n    label: 'Tunisia',\n  },\n  {\n    id: 'TUR',\n    label: 'Turkey',\n  },\n  {\n    id: 'TUV',\n    label: 'Tuvalu',\n  },\n  {\n    id: 'TWN',\n    label: 'Taiwan',\n  },\n  {\n    id: 'TZA',\n    label: 'Tanzania',\n  },\n  {\n    id: 'UGA',\n    label: 'Uganda',\n  },\n  {\n    id: 'UKR',\n    label: 'Ukraine',\n  },\n  {\n    id: 'UMI',\n    label: 'United States Minor Outlying Islands',\n  },\n  {\n    id: 'URY',\n    label: 'Uruguay',\n  },\n  {\n    id: 'USA',\n    label: 'United States',\n  },\n  {\n    id: 'UZB',\n    label: 'Uzbekistan',\n  },\n  {\n    id: 'VAT',\n    label: 'Vatican City',\n  },\n  {\n    id: 'VCT',\n    label: 'Saint Vincent and the Grenadines',\n  },\n  {\n    id: 'VEN',\n    label: 'Venezuela',\n  },\n  {\n    id: 'VGB',\n    label: 'British Virgin Islands',\n  },\n  {\n    id: 'VIR',\n    label: 'United States Virgin Islands',\n  },\n  {\n    id: 'VNM',\n    label: 'Vietnam',\n  },\n  {\n    id: 'VUT',\n    label: 'Vanuatu',\n  },\n  {\n    id: 'WLF',\n    label: 'Wallis and Futuna',\n  },\n  {\n    id: 'WSM',\n    label: 'Samoa',\n  },\n  {\n    id: 'YEM',\n    label: 'Yemen',\n  },\n  {\n    id: 'ZAF',\n    label: 'South Africa',\n  },\n  {\n    id: 'ZMB',\n    label: 'Zambia',\n  },\n  {\n    id: 'ZWE',\n    label: 'Zimbabwe',\n  },\n]\n","import React, { useMemo, useCallback, useState } from 'react'\nimport CountryFlag from '@globalfishingwatch/map-components/components/countryflag'\nimport qs from 'qs'\nimport { RouteComponentProps } from '@reach/router'\nimport styles from './search.module.css'\nimport Search from '../../components/search/search.container'\nimport MultiSelect from '../../components/multi-select/multi-select'\nimport { DataItem } from '../../types/data'\nimport { groupSelectionsByType } from '../../components/search/search.utils'\nimport { SEARCH_TYPES } from '../../components/search/search.config'\nimport data, { flags, rfmos } from '../../data/data'\n\nconst capitalizeFirst = (string: string): string => string.charAt(0).toUpperCase() + string.slice(1)\n\nconst SearchPage: React.FC<RouteComponentProps> = (): React.ReactElement => {\n  const urlSelection = useMemo(() => {\n    const query = qs.parse(window.location.search, { ignoreQueryPrefix: true })\n    return query && query.search ? query.search : []\n  }, [])\n\n  const [selections, updateSelection] = useState<DataItem[]>(urlSelection)\n\n  const handleChange = useCallback((selectedItems: DataItem[]) => {\n    updateSelection(selectedItems)\n    const selectionQuery = qs.stringify({ search: selectedItems }, { addQueryPrefix: true })\n    const url = window.location.origin + window.location.pathname + selectionQuery\n    window.history.replaceState(window.history.state, '', url)\n  }, [])\n\n  const removeExternalSelection = () => {\n    updateSelection([])\n  }\n\n  const selectionsByType = useMemo(() => {\n    return groupSelectionsByType(selections || [])\n  }, [selections])\n\n  const handleSelectChange = (selectedItem: DataItem) => {\n    updateSelection([...selections, selectedItem])\n  }\n\n  const handleRemoveItem = (item: DataItem) => {\n    updateSelection(selections.filter((i) => i !== item))\n  }\n\n  const getSelectionByType = (type: string) => {\n    const selection = selections.filter((s) => s.type === type)\n    return selection\n  }\n\n  return (\n    <div className={styles.app}>\n      <Search staticOptions={data} selectedItems={selections} onChange={handleChange} />\n      <div>\n        <button onClick={removeExternalSelection}>Remove selection</button>\n      </div>\n      <div>\n        <MultiSelect\n          options={flags}\n          selectedItems={getSelectionByType('flag')}\n          onSelectedItem={handleSelectChange}\n          onRemoveItem={handleRemoveItem}\n        />\n        <MultiSelect\n          options={rfmos}\n          selectedItems={getSelectionByType('rfmo')}\n          onSelectedItem={handleSelectChange}\n          onRemoveItem={handleRemoveItem}\n        />\n      </div>\n      <div className={styles.selectionContainer}>\n        <h2>Current filter selection by</h2>\n        {selectionsByType !== null ? (\n          <ul className={styles.selectionList}>\n            {Object.keys(SEARCH_TYPES).map((key) => (\n              <li key={key}>\n                <strong>{capitalizeFirst(key)}</strong>:{' '}\n                {selectionsByType[key] !== undefined ? (\n                  selectionsByType[key].values.map((value, index) => (\n                    <span key={value.id}>\n                      {key === SEARCH_TYPES.flag && <CountryFlag iso={value.id} />}\n                      {value.label}({value.id})\n                      {index === selectionsByType[key].values.length - 1 ? '' : ','}\n                    </span>\n                  ))\n                ) : (\n                  <span>no filter</span>\n                )}\n              </li>\n            ))}\n          </ul>\n        ) : (\n          <span>none</span>\n        )}\n      </div>\n    </div>\n  )\n}\n\nexport default SearchPage\n","import React from 'react'\nimport { RouteComponentProps } from '@reach/router'\nimport styles from './history-scroll.module.css'\n\nconst HistoryScroll: React.FC<RouteComponentProps> = (): React.ReactElement => {\n  return (\n    <div className={styles.container}>\n      <h2>@erik, feel free to modify names, folder structure and... enjoy hacking!</h2>\n    </div>\n  )\n}\n\nexport default HistoryScroll\n","import React from 'react'\nimport Home from './pages/home/home'\nimport Search from './pages/search/search'\nimport HistorySroll from './pages/history-scroll/history-scroll'\nimport { Router } from '@reach/router'\n\nconst App: React.FC = (): React.ReactElement => {\n  return (\n    <Router>\n      <Home path=\"/\" default />\n      <Search path=\"search\" />\n      <HistorySroll path=\"scrolling\" />\n    </Router>\n  )\n}\n\nexport default App\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)\n)\n\ninterface Config {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void\n  onUpdate?: (registration: ServiceWorkerRegistration) => void\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then((registration) => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing\n        if (installingWorker == null) {\n          return\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              )\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration)\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.')\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration)\n              }\n            }\n          }\n        }\n      }\n    })\n    .catch((error) => {\n      console.error('Error during service worker registration:', error)\n    })\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then((response) => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type')\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then((registration) => {\n          registration.unregister().then(() => {\n            window.location.reload()\n          })\n        })\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config)\n      }\n    })\n    .catch(() => {\n      console.log('No internet connection found. App is running in offline mode.')\n    })\n}\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      (process as { env: { [key: string]: string } }).env.PUBLIC_URL,\n      window.location.href\n    )\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config)\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          )\n        })\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config)\n      }\n    })\n  }\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then((registration) => {\n      registration.unregister()\n    })\n  }\n}\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport './normalized.css'\nimport './index.css'\nimport App from './app'\nimport * as serviceWorker from './serviceWorker'\n\nReactDOM.render(<App />, document.getElementById('root'))\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister()\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"selectionContainer\":\"search_selectionContainer__2_Ddd\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"title\":\"home_title__3UjmG\",\"nav\":\"home_nav__2pajt\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"searchContainer\":\"search_searchContainer__MIOBX\",\"searchInput\":\"search_searchInput__3QW9t\",\"searchErrorsContainer\":\"search_searchErrorsContainer__uyGp0\",\"searchItemError\":\"search_searchItemError__t-Lw7\",\"optionListContainer\":\"search_optionListContainer__34CUz\",\"optionList\":\"search_optionList__2xo8Z\",\"optionlistItem\":\"search_optionlistItem__2AsXx\",\"optionlistItemLoading\":\"search_optionlistItemLoading__18PZW search_optionlistItem__2AsXx\",\"optionlistItemPlaceholder\":\"search_optionlistItemPlaceholder__3rSYK\",\"loadingContainer\":\"search_loadingContainer__1zcWl\",\"spinner\":\"search_spinner__2Ev9v\",\"spin\":\"search_spin__3J2Sf\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"history-scroll_container__3k5El\"};"],"sourceRoot":""}